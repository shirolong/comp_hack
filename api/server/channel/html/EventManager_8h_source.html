<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>COMP_hack: EventManager.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_aa65ba6618b56792e3ebc26ea14325de.html">server</a></li><li class="navelem"><a class="el" href="dir_202cbce50e83253ea3d67a29f81b7523.html">channel</a></li><li class="navelem"><a class="el" href="dir_e50c339f373c062e8e47f824f02a07dc.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">EventManager.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="EventManager_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#ifndef SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">// libcomp Includes</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/EnumMap_8h.html">EnumMap.h</a>&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;<a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ScriptEngine_8h.html">ScriptEngine.h</a>&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">// object Includes</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &lt;DemonQuest.h&gt;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &lt;Event.h&gt;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &lt;EventCondition.h&gt;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &lt;EventInstance.h&gt;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">// channel Includes</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="ChannelClientConnection_8h.html">ChannelClientConnection.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span>libcomp</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;{</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">class </span><a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/namespacelibcomp.html#a57b40b6510404432c4e48817a3efd9cca5cb1b42adf01bb3785dfdf712c3b8255">ScriptEngine</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">namespace </span>objects</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">class </span>EventConditionData;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="keyword">class </span>EventFlagCondition;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">class </span>EventInstance;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">   56</a></span>&#160;<span class="keyword">typedef</span> objects::EventCondition::CompareMode_t <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="keyword">namespace </span>channel</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">class </span>ChannelServer;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html">   67</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structchannel_1_1EventOptions.html">EventOptions</a></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">// Action group ID, set when performing a &quot;start event&quot; action so any later</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// sets can pick up where the others left off</span></div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">   71</a></span>&#160;    uint32_t <a class="code" href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">ActionGroupID</a> = 0;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="comment">// Force an auto-only context, regardless of its the client is specified</span></div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">   74</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">AutoOnly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="comment">// Disallow interruption of any events in the set. Events that are queued</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="comment">// but not started can still be interrupted if another is active.</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">   78</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">NoInterrupt</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="comment">// Override any transform script params on the first event being handled.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// If the event is not a transform event, these will be ignored.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structchannel_1_1EventOptions.html#ad5ea152d9fbc85bf4f4c994f11fccb6e">   82</a></span>&#160;    std::list&lt;libcomp::String&gt; <a class="code" href="structchannel_1_1EventOptions.html#ad5ea152d9fbc85bf4f4c994f11fccb6e">TransformScriptParams</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html">   92</a></span>&#160;<span class="keyword">class </span><a class="code" href="classchannel_1_1EventManager.html">EventManager</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="classchannel_1_1EventManager.html#ac1fb0b1145490e8c492eb19b017c5bbd">EventManager</a>(<span class="keyword">const</span> std::weak_ptr&lt;ChannelServer&gt;&amp; server);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <a class="code" href="classchannel_1_1EventManager.html#a2e43e8b165b54f75e9c005cf5b04ade7">~EventManager</a>();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; eventID, int32_t sourceEntityID,</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;Zone&gt;&amp; zone = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="structchannel_1_1EventOptions.html">EventOptions</a> options = {});</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::shared_ptr&lt;objects::EventInstance&gt; <a class="code" href="classchannel_1_1EventManager.html#af74d5ba9a47b7f7abf30c221b1b80ed3">PrepareEvent</a>(</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; eventID, int32_t sourceEntityID);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a107a9638d9422302d259dc34251f2e89">StartSystemEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        int32_t sourceEntityID);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    int32_t <a class="code" href="classchannel_1_1EventManager.html#ae1465767d412e978f7b1a2fbf12e28d5">InterruptEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1c5b3827f27366891374d68708c1c8ca">RequestMenu</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        int32_t menuType, int32_t shopID = 0, int32_t sourceEntityID = 0,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <span class="keywordtype">bool</span> allowInsert = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#adf2a129512c7a1da64dc0001a6d6c317">HandleResponse</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        int32_t responseID, int64_t objectID = -1);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a8c91a8b76b1ae6382b53f20272c31611">SetChannelLoginEvent</a>(</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2458e528d385522fa2d79de9f70f1e9b">ContinueChannelChangeEvent</a>(</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a97b93981c40b1d07882dbe615db5e8cc">UpdateQuest</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        int16_t questID, int8_t phase, <span class="keywordtype">bool</span> forceUpdate = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keyword">const</span> std::unordered_map&lt;int32_t, int32_t&gt;&amp; updateFlags = {});</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#acf7c31750060885ae5ee6375f238d787">UpdateQuestKillCount</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keyword">const</span> std::unordered_map&lt;uint32_t, int32_t&gt;&amp; kills);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#addac608e64c07e6d88201daec806917c">UpdateQuestTargetEnemies</a>(</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a5de8063f4d63ed8285b85acdf842a0a0">SendActiveQuestList</a>(</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#ad82e100059abaf388eb0967950c3e244">SendCompletedQuestList</a>(</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    std::shared_ptr&lt;objects::DemonQuest&gt; <a class="code" href="classchannel_1_1EventManager.html#ac6018f15921c2c0370cc22f249effa18">GenerateDemonQuest</a>(</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;CharacterState&gt;&amp; cState,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::Demon&gt;&amp; demon);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a4a830092dfe60891e04cafbb9c3babf3">UpdateDemonQuestCount</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        objects::DemonQuest::Type_t questType, uint32_t targetType = 0,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        int32_t increment = 0);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a86a65a1a27093bbe6e4146bf870049a8">ResetDemonQuests</a>(<span class="keyword">const</span> std::shared_ptr&lt;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <a class="code" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a>&gt;&amp; client, uint32_t now,</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;libcomp::DatabaseChangeSet&gt;&amp; changes);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    int8_t <a class="code" href="classchannel_1_1EventManager.html#af3d3e64e6e8b2b4c76d0b9c005d39691">EndDemonQuest</a>(<span class="keyword">const</span> std::shared_ptr&lt;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <a class="code" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a>&gt;&amp; client, int8_t failCode = 2);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventInstance&gt;&amp; instance);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a3ccac5b2968944bd90bf8ab13cb2ae5d">StartWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keyword">const</span> <a class="codeRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a>&amp; sessionID);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#ad19c9a2167d681f9c68dbb1bd11466dc">EndWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <span class="keywordtype">bool</span> notifyWorld);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a6405c9bea0f9aceffce750bb565402c8">EvaluateEventConditions</a>(</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;Zone&gt;&amp; zone,</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;        <span class="keyword">const</span> std::list&lt;std::shared_ptr&lt;objects::EventCondition&gt;&gt;&amp; conditions,</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client = <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00345"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html">  345</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    {</div>
<div class="line"><a name="l00347"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">  347</a></span>&#160;        std::shared_ptr&lt;ChannelClientConnection&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">Client</a>;</div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">  348</a></span>&#160;        std::shared_ptr&lt;Zone&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">CurrentZone</a>;</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">  349</a></span>&#160;        std::shared_ptr&lt;objects::EventInstance&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">EventInstance</a>;</div>
<div class="line"><a name="l00350"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#ab0b2b0189f8e2b48c86f0a1635029b67">  350</a></span>&#160;        std::list&lt;libcomp::String&gt; <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#ab0b2b0189f8e2b48c86f0a1635029b67">TransformScriptParams</a>;</div>
<div class="line"><a name="l00351"></a><span class="lineno"><a class="line" href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">  351</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">AutoOnly</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    };</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">HandleEvent</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a13c380a49ac259fe3df161ea066d11ff">SetEventStatus</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#af55f5eb904c1695a400e18ef7e2e3869">EvaluateQuestConditions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx, int16_t questID);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#ae265d45a2e9e02e750ed95a063a951ed">EvaluateEventCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a6405c9bea0f9aceffce750bb565402c8">EvaluateEventConditions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <span class="keyword">const</span> std::list&lt;std::shared_ptr&lt;objects::EventCondition&gt;&gt;&amp; conditions);</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1087cc0b3c41a4b167ca103d1915e96a">EvaluateCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;ActiveEntityState&gt;&amp; eState,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventConditionData&gt;&amp; condition,</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> compareMode = EventCompareMode::DEFAULT_COMPARE);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#aaff0054d0f24f21664bbff167d6341af">EvaluateQuestPhaseRequirements</a>(<span class="keyword">const</span> std::shared_ptr&lt;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <a class="code" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a>&gt;&amp; client, int16_t questID, int8_t phase);</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#ae069693af178c3f23c7337488ed90311">EvaluatePartnerCondition</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client,</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a69d51508c937f49dc8de38baee1bb810">EvaluateQuestCondition</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx,</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventCondition&gt;&amp; condition);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a061582b19ce0d68e5f39027884b7837e">EvaluateFlagStates</a>(<span class="keyword">const</span> std::unordered_map&lt;int32_t, int32_t&gt;&amp; flagStates,</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::EventFlagCondition&gt;&amp; condition);</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a014aa6f08876d941843a502c34cf1ec4">Compare</a>(int32_t value1, int32_t value2, int32_t value3,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> compareMode, <a class="code" href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a> defaultCompare =</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        EventCompareMode::DEFAULT_COMPARE, uint16_t validCompareSetting = 63);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a80e142bc773a3dba64fc3bf4a44129c0">AddDemonQuestRewards</a>(<span class="keyword">const</span> std::shared_ptr&lt;CharacterState&gt;&amp; cState,</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keyword">const</span> std::shared_ptr&lt;objects::Demon&gt;&amp; demon,</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        std::shared_ptr&lt;objects::DemonQuest&gt;&amp; dQuest);</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classchannel_1_1EventManager.html#a4e3ed0106a6af2dc7415def68b62d436">HandleNext</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a8217506a5619a61808b222eb50ad2956">NPCMessage</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2db99d518202bc6ee783e9f7a3feab78">ExNPCMessage</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a4c4f2505575ac3bc7c0a76d760d9315c">Multitalk</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#acbfa9bc2cb9f0dc2c1439cf140995d17">Prompt</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#adbb3944eb8d606ba6b055ca5064a00a2">PlayScene</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#af65ef1f610abcbb26d463d351021a960">OpenMenu</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#aa61f297d0c5e1619fe3f42713fa804f2">PerformActions</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a6d80733581e311434026103d5d782a2b">Direction</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a941c5039a80ea633ac12db9ca2634dac">ITime</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a27c5a25166b0d544a7a09fda1072127d">EndEvent</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a1249bebb5cf53b1ffe50756eee84380c">HandleTriFusion</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a5ce5a8a353a2e5563ff4845be2fc8270">HandleWebGame</a>(<span class="keyword">const</span> std::shared_ptr&lt;ChannelClientConnection&gt;&amp; client);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;</div>
<div class="line"><a name="l00580"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">  580</a></span>&#160;    std::shared_ptr&lt;T&gt; <a class="code" href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">GetEvent</a>(<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html">EventContext</a>&amp; ctx)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <span class="keyword">auto</span> inst = ctx.<a class="code" href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">EventInstance</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keyword">auto</span> e = inst-&gt;GetEvent();</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="keyword">auto</span> ptr = std::dynamic_pointer_cast&lt;T&gt;(e);</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        <span class="keywordflow">if</span>(ptr &amp;&amp; !ptr-&gt;GetTransformScriptID().IsEmpty())</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        {</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="comment">// Make a copy and transform</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;            ptr = std::make_shared&lt;T&gt;(*ptr);</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;            <span class="keyword">auto</span> engine = std::make_shared&lt;libcomp::ScriptEngine&gt;();</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;            engine-&gt;Using&lt;T&gt;();</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">PrepareTransformScript</a>(ctx, engine))</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            {</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="comment">// Store the event for transformation</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                Sqrat::Function f(Sqrat::RootTable(engine-&gt;GetVM()),</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;                    <span class="stringliteral">&quot;prepare&quot;</span>);</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                <span class="keyword">auto</span> scriptResult = !f.IsNull() ? f.Evaluate&lt;int32_t&gt;(ptr) : 0;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                <span class="comment">// Apply the transformation</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                <span class="keywordflow">if</span>(scriptResult &amp;&amp; *scriptResult == 0 &amp;&amp;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;                    <a class="code" href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">TransformEvent</a>(ctx, engine) &amp;&amp; <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(ctx, ptr))</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;                {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;                    <span class="comment">// Set new event</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                    inst-&gt;SetEvent(ptr);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;                    <span class="keywordflow">return</span> ptr;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;            }</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;            <span class="comment">// Return failure</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        }</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(ctx, ptr) ? ptr : <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    }</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">PrepareTransformScript</a>(EventContext&amp; ctx,</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        std::shared_ptr&lt;libcomp::ScriptEngine&gt; engine);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">TransformEvent</a>(EventContext&amp; ctx,</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        std::shared_ptr&lt;libcomp::ScriptEngine&gt; engine);</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">VerifyITime</a>(EventContext&amp; ctx, std::shared_ptr&lt;objects::Event&gt; e);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno"><a class="line" href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">  646</a></span>&#160;    std::weak_ptr&lt;ChannelServer&gt; <a class="code" href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">mServer</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;};</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;} <span class="comment">// namespace channel</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="preprocessor">#endif // SERVER_CHANNEL_SRC_EVENTMANAGER_H</span></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a4e04da17fb960196a68881301972512d"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a4e04da17fb960196a68881301972512d">channel::EventManager::EventContext::Client</a></div><div class="ttdeci">std::shared_ptr&lt; ChannelClientConnection &gt; Client</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00347">EventManager.h:347</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html"><div class="ttname"><a href="structchannel_1_1EventOptions.html">channel::EventOptions</a></div><div class="ttdoc">Struct containing optional parameters supplied to EventManager::HandleEvent to simplify the function ...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00067">EventManager.h:67</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a014aa6f08876d941843a502c34cf1ec4"><div class="ttname"><a href="classchannel_1_1EventManager.html#a014aa6f08876d941843a502c34cf1ec4">channel::EventManager::Compare</a></div><div class="ttdeci">bool Compare(int32_t value1, int32_t value2, int32_t value3, EventCompareMode compareMode, EventCompareMode defaultCompare=EventCompareMode::DEFAULT_COMPARE, uint16_t validCompareSetting=63)</div><div class="ttdoc">Compare values using the supplied compare mode from an event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01358">EventManager.cpp:1358</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_acb10083cdb281780f97ec7fffc809aa2"><div class="ttname"><a href="structchannel_1_1EventOptions.html#acb10083cdb281780f97ec7fffc809aa2">channel::EventOptions::ActionGroupID</a></div><div class="ttdeci">uint32_t ActionGroupID</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00071">EventManager.h:71</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_addac608e64c07e6d88201daec806917c"><div class="ttname"><a href="classchannel_1_1EventManager.html#addac608e64c07e6d88201daec806917c">channel::EventManager::UpdateQuestTargetEnemies</a></div><div class="ttdeci">void UpdateQuestTargetEnemies(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Update the registered set of enemy types that need to be killed to complete the current quests for th...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02761">EventManager.cpp:2761</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1087cc0b3c41a4b167ca103d1915e96a"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1087cc0b3c41a4b167ca103d1915e96a">channel::EventManager::EvaluateCondition</a></div><div class="ttdeci">bool EvaluateCondition(EventContext &amp;ctx, const std::shared_ptr&lt; ActiveEntityState &gt; &amp;eState, const std::shared_ptr&lt; objects::EventConditionData &gt; &amp;condition, EventCompareMode compareMode=EventCompareMode::DEFAULT_COMPARE)</div><div class="ttdoc">Evaluate a standard event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01441">EventManager.cpp:1441</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ac6018f15921c2c0370cc22f249effa18"><div class="ttname"><a href="classchannel_1_1EventManager.html#ac6018f15921c2c0370cc22f249effa18">channel::EventManager::GenerateDemonQuest</a></div><div class="ttdeci">std::shared_ptr&lt; objects::DemonQuest &gt; GenerateDemonQuest(const std::shared_ptr&lt; CharacterState &gt; &amp;cState, const std::shared_ptr&lt; objects::Demon &gt; &amp;demon)</div><div class="ttdoc">Generate a demon quest for the supplied character and demon. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02849">EventManager.cpp:2849</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1249bebb5cf53b1ffe50756eee84380c"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1249bebb5cf53b1ffe50756eee84380c">channel::EventManager::HandleTriFusion</a></div><div class="ttdeci">bool HandleTriFusion(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Execute the appropriate (party) tri-fusion event responses. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04818">EventManager.cpp:4818</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a061582b19ce0d68e5f39027884b7837e"><div class="ttname"><a href="classchannel_1_1EventManager.html#a061582b19ce0d68e5f39027884b7837e">channel::EventManager::EvaluateFlagStates</a></div><div class="ttdeci">bool EvaluateFlagStates(const std::unordered_map&lt; int32_t, int32_t &gt; &amp;flagStates, const std::shared_ptr&lt; objects::EventFlagCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a set of flag states for a standard condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01282">EventManager.cpp:1282</a></div></div>
<div class="ttc" id="EnumMap_8h_html"><div class="ttname"><a href="../../../libcomp/html/EnumMap_8h.html">EnumMap.h</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4c4f2505575ac3bc7c0a76d760d9315c"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4c4f2505575ac3bc7c0a76d760d9315c">channel::EventManager::Multitalk</a></div><div class="ttdeci">bool Multitalk(EventContext &amp;ctx)</div><div class="ttdoc">Start a multitalk event clientside. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04449">EventManager.cpp:4449</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_adf2a129512c7a1da64dc0001a6d6c317"><div class="ttname"><a href="classchannel_1_1EventManager.html#adf2a129512c7a1da64dc0001a6d6c317">channel::EventManager::HandleResponse</a></div><div class="ttdeci">bool HandleResponse(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t responseID, int64_t objectID=-1)</div><div class="ttdoc">React to a response based on the current event of a client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00296">EventManager.cpp:296</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5ce5a8a353a2e5563ff4845be2fc8270"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5ce5a8a353a2e5563ff4845be2fc8270">channel::EventManager::HandleWebGame</a></div><div class="ttdeci">bool HandleWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Handle all web-game setup steps if no session already exists. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04879">EventManager.cpp:4879</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ac1fb0b1145490e8c492eb19b017c5bbd"><div class="ttname"><a href="classchannel_1_1EventManager.html#ac1fb0b1145490e8c492eb19b017c5bbd">channel::EventManager::EventManager</a></div><div class="ttdeci">EventManager(const std::weak_ptr&lt; ChannelServer &gt; &amp;server)</div><div class="ttdoc">Create a new EventManager. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00128">EventManager.cpp:128</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5dc2cce0ebe578b1ce4e4a3cd9730cb0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5dc2cce0ebe578b1ce4e4a3cd9730cb0">channel::EventManager::HandleEvent</a></div><div class="ttdeci">bool HandleEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const libcomp::String &amp;eventID, int32_t sourceEntityID, const std::shared_ptr&lt; Zone &gt; &amp;zone=nullptr, EventOptions options={})</div><div class="ttdoc">Handle a new event based upon the supplied ID, relative to an optional entity. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00137">EventManager.cpp:137</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_a445df01daf4d1e5ad566654d6a4779da"><div class="ttname"><a href="structchannel_1_1EventOptions.html#a445df01daf4d1e5ad566654d6a4779da">channel::EventOptions::NoInterrupt</a></div><div class="ttdeci">bool NoInterrupt</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00078">EventManager.h:78</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_acbfa9bc2cb9f0dc2c1439cf140995d17"><div class="ttname"><a href="classchannel_1_1EventManager.html#acbfa9bc2cb9f0dc2c1439cf140995d17">channel::EventManager::Prompt</a></div><div class="ttdeci">bool Prompt(EventContext &amp;ctx)</div><div class="ttdoc">Prompt the player to choose from set options. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04469">EventManager.cpp:4469</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae265d45a2e9e02e750ed95a063a951ed"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae265d45a2e9e02e750ed95a063a951ed">channel::EventManager::EvaluateEventCondition</a></div><div class="ttdeci">bool EvaluateEventCondition(EventContext &amp;ctx, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate an event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00922">EventManager.cpp:922</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ad19c9a2167d681f9c68dbb1bd11466dc"><div class="ttname"><a href="classchannel_1_1EventManager.html#ad19c9a2167d681f9c68dbb1bd11466dc">channel::EventManager::EndWebGame</a></div><div class="ttdeci">void EndWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, bool notifyWorld)</div><div class="ttdoc">End any web-game session currently active for the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03994">EventManager.cpp:3994</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_ab0b2b0189f8e2b48c86f0a1635029b67"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#ab0b2b0189f8e2b48c86f0a1635029b67">channel::EventManager::EventContext::TransformScriptParams</a></div><div class="ttdeci">std::list&lt; libcomp::String &gt; TransformScriptParams</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00350">EventManager.h:350</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a13c380a49ac259fe3df161ea066d11ff"><div class="ttname"><a href="classchannel_1_1EventManager.html#a13c380a49ac259fe3df161ea066d11ff">channel::EventManager::SetEventStatus</a></div><div class="ttdeci">void SetEventStatus(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Set the overhead status icon of the client entity to indicate they are involved in an event...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04187">EventManager.cpp:4187</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4a830092dfe60891e04cafbb9c3babf3"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4a830092dfe60891e04cafbb9c3babf3">channel::EventManager::UpdateDemonQuestCount</a></div><div class="ttdeci">bool UpdateDemonQuestCount(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, objects::DemonQuest::Type_t questType, uint32_t targetType=0, int32_t increment=0)</div><div class="ttdoc">Update the target count for the client&#39;s active demon quest if it matches the supplied quest type...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03664">EventManager.cpp:3664</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a18475ffd22a6cd35016427f9d48df05b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a18475ffd22a6cd35016427f9d48df05b">channel::EventManager::PrepareTransformScript</a></div><div class="ttdeci">bool PrepareTransformScript(EventContext &amp;ctx, std::shared_ptr&lt; libcomp::ScriptEngine &gt; engine)</div><div class="ttdoc">Prepare the transformation script from the event on the supplied script engine. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04925">EventManager.cpp:4925</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a1c5b3827f27366891374d68708c1c8ca"><div class="ttname"><a href="classchannel_1_1EventManager.html#a1c5b3827f27366891374d68708c1c8ca">channel::EventManager::RequestMenu</a></div><div class="ttdeci">bool RequestMenu(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t menuType, int32_t shopID=0, int32_t sourceEntityID=0, bool allowInsert=false)</div><div class="ttdoc">Request an open menu event be started for the supplied client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00229">EventManager.cpp:229</a></div></div>
<div class="ttc" id="classchannel_1_1ChannelClientConnection_html"><div class="ttname"><a href="classchannel_1_1ChannelClientConnection.html">channel::ChannelClientConnection</a></div><div class="ttdoc">Represents a connection to the game client. </div><div class="ttdef"><b>Definition:</b> <a href="ChannelClientConnection_8h_source.html#l00044">ChannelClientConnection.h:44</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a941c5039a80ea633ac12db9ca2634dac"><div class="ttname"><a href="classchannel_1_1EventManager.html#a941c5039a80ea633ac12db9ca2634dac">channel::EventManager::ITime</a></div><div class="ttdeci">bool ITime(EventContext &amp;ctx)</div><div class="ttdoc">Send the player an I-Time request. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04692">EventManager.cpp:4692</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aa61f297d0c5e1619fe3f42713fa804f2"><div class="ttname"><a href="classchannel_1_1EventManager.html#aa61f297d0c5e1619fe3f42713fa804f2">channel::EventManager::PerformActions</a></div><div class="ttdeci">bool PerformActions(EventContext &amp;ctx)</div><div class="ttdoc">Perform one or many actions from the same types of options configured for object interaction. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04649">EventManager.cpp:4649</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af74d5ba9a47b7f7abf30c221b1b80ed3"><div class="ttname"><a href="classchannel_1_1EventManager.html#af74d5ba9a47b7f7abf30c221b1b80ed3">channel::EventManager::PrepareEvent</a></div><div class="ttdeci">std::shared_ptr&lt; objects::EventInstance &gt; PrepareEvent(const libcomp::String &amp;eventID, int32_t sourceEntityID)</div><div class="ttdoc">Prepare a new event based upon the supplied ID, relative to an optional entity. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00162">EventManager.cpp:162</a></div></div>
<div class="ttc" id="ChannelClientConnection_8h_html"><div class="ttname"><a href="ChannelClientConnection_8h.html">ChannelClientConnection.h</a></div><div class="ttdoc">Channel client connection class. </div></div>
<div class="ttc" id="classlibcomp_1_1String_html"><div class="ttname"><a href="../../../libcomp/html/classlibcomp_1_1String.html">libcomp::String</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2e43e8b165b54f75e9c005cf5b04ade7"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2e43e8b165b54f75e9c005cf5b04ade7">channel::EventManager::~EventManager</a></div><div class="ttdeci">~EventManager()</div><div class="ttdoc">Clean up the EventManager. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00133">EventManager.cpp:133</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a3ccac5b2968944bd90bf8ab13cb2ae5d"><div class="ttname"><a href="classchannel_1_1EventManager.html#a3ccac5b2968944bd90bf8ab13cb2ae5d">channel::EventManager::StartWebGame</a></div><div class="ttdeci">void StartWebGame(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const libcomp::String &amp;sessionID)</div><div class="ttdoc">Start a pending web-game session with a session ID received from the world server. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03948">EventManager.cpp:3948</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html">channel::EventManager::EventContext</a></div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00345">EventManager.h:345</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ad82e100059abaf388eb0967950c3e244"><div class="ttname"><a href="classchannel_1_1EventManager.html#ad82e100059abaf388eb0967950c3e244">channel::EventManager::SendCompletedQuestList</a></div><div class="ttdeci">void SendCompletedQuestList(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Send the client&#39;s completed quest list. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02833">EventManager.cpp:2833</a></div></div>
<div class="ttc" id="namespacelibcomp_html_a57b40b6510404432c4e48817a3efd9cca5cb1b42adf01bb3785dfdf712c3b8255"><div class="ttname"><a href="../../../libcomp/html/namespacelibcomp.html#a57b40b6510404432c4e48817a3efd9cca5cb1b42adf01bb3785dfdf712c3b8255">LogComponent_t::ScriptEngine</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_ad5ea152d9fbc85bf4f4c994f11fccb6e"><div class="ttname"><a href="structchannel_1_1EventOptions.html#ad5ea152d9fbc85bf4f4c994f11fccb6e">channel::EventOptions::TransformScriptParams</a></div><div class="ttdeci">std::list&lt; libcomp::String &gt; TransformScriptParams</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00082">EventManager.h:82</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a97b93981c40b1d07882dbe615db5e8cc"><div class="ttname"><a href="classchannel_1_1EventManager.html#a97b93981c40b1d07882dbe615db5e8cc">channel::EventManager::UpdateQuest</a></div><div class="ttdeci">bool UpdateQuest(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int16_t questID, int8_t phase, bool forceUpdate=false, const std::unordered_map&lt; int32_t, int32_t &gt; &amp;updateFlags={})</div><div class="ttdoc">Start, update or complete a quest based upon the quest ID and phase supplied. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00603">EventManager.cpp:603</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a304d065f872fcdae02bb0e7bc2e3b23a"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a304d065f872fcdae02bb0e7bc2e3b23a">channel::EventManager::EventContext::CurrentZone</a></div><div class="ttdeci">std::shared_ptr&lt; Zone &gt; CurrentZone</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00348">EventManager.h:348</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aaff0054d0f24f21664bbff167d6341af"><div class="ttname"><a href="classchannel_1_1EventManager.html#aaff0054d0f24f21664bbff167d6341af">channel::EventManager::EvaluateQuestPhaseRequirements</a></div><div class="ttdeci">bool EvaluateQuestPhaseRequirements(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int16_t questID, int8_t phase)</div><div class="ttdoc">Evaluate each of the requirements to complete the current quest phase. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02677">EventManager.cpp:2677</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a80e142bc773a3dba64fc3bf4a44129c0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a80e142bc773a3dba64fc3bf4a44129c0">channel::EventManager::AddDemonQuestRewards</a></div><div class="ttdeci">void AddDemonQuestRewards(const std::shared_ptr&lt; CharacterState &gt; &amp;cState, const std::shared_ptr&lt; objects::Demon &gt; &amp;demon, std::shared_ptr&lt; objects::DemonQuest &gt; &amp;dQuest)</div><div class="ttdoc">Calculate and add all rewards to the supplied demon quest. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03366">EventManager.cpp:3366</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_adbb3944eb8d606ba6b055ca5064a00a2"><div class="ttname"><a href="classchannel_1_1EventManager.html#adbb3944eb8d606ba6b055ca5064a00a2">channel::EventManager::PlayScene</a></div><div class="ttdeci">bool PlayScene(EventContext &amp;ctx)</div><div class="ttdoc">Play an in-game cinematic clientside. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04543">EventManager.cpp:4543</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a69d51508c937f49dc8de38baee1bb810"><div class="ttname"><a href="classchannel_1_1EventManager.html#a69d51508c937f49dc8de38baee1bb810">channel::EventManager::EvaluateQuestCondition</a></div><div class="ttdeci">bool EvaluateQuestCondition(EventContext &amp;ctx, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a quest based event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01195">EventManager.cpp:1195</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2db99d518202bc6ee783e9f7a3feab78"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2db99d518202bc6ee783e9f7a3feab78">channel::EventManager::ExNPCMessage</a></div><div class="ttdeci">bool ExNPCMessage(EventContext &amp;ctx)</div><div class="ttdoc">Send an extended NPC based message to the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04427">EventManager.cpp:4427</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a5de8063f4d63ed8285b85acdf842a0a0"><div class="ttname"><a href="classchannel_1_1EventManager.html#a5de8063f4d63ed8285b85acdf842a0a0">channel::EventManager::SendActiveQuestList</a></div><div class="ttdeci">void SendActiveQuestList(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Send the client&#39;s active quest list. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l02807">EventManager.cpp:2807</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af3d3e64e6e8b2b4c76d0b9c005d39691"><div class="ttname"><a href="classchannel_1_1EventManager.html#af3d3e64e6e8b2b4c76d0b9c005d39691">channel::EventManager::EndDemonQuest</a></div><div class="ttdeci">int8_t EndDemonQuest(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int8_t failCode=2)</div><div class="ttdoc">End the client&#39;s demon quest in success or failure. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03803">EventManager.cpp:3803</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a8c91a8b76b1ae6382b53f20272c31611"><div class="ttname"><a href="classchannel_1_1EventManager.html#a8c91a8b76b1ae6382b53f20272c31611">channel::EventManager::SetChannelLoginEvent</a></div><div class="ttdeci">bool SetChannelLoginEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Set the supplied client&#39;s ChannelLogin active event and event index so the event chain can be continu...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00510">EventManager.cpp:510</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a9424825d0096c55f5b1bcd49fe2fd429"><div class="ttname"><a href="classchannel_1_1EventManager.html#a9424825d0096c55f5b1bcd49fe2fd429">channel::EventManager::TransformEvent</a></div><div class="ttdeci">bool TransformEvent(EventContext &amp;ctx, std::shared_ptr&lt; libcomp::ScriptEngine &gt; engine)</div><div class="ttdoc">Finish preparing and execute the tranformation script configured for the event. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04960">EventManager.cpp:4960</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html"><div class="ttname"><a href="classchannel_1_1EventManager.html">channel::EventManager</a></div><div class="ttdoc">Manager class in charge of processing event sequences as well as quest phase progression and conditio...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00092">EventManager.h:92</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a4bf5f26af1eaecc898688bc51d0c08db"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a4bf5f26af1eaecc898688bc51d0c08db">channel::EventManager::EventContext::EventInstance</a></div><div class="ttdeci">std::shared_ptr&lt; objects::EventInstance &gt; EventInstance</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00349">EventManager.h:349</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a3ae98af92420583911a3e069941e5280"><div class="ttname"><a href="classchannel_1_1EventManager.html#a3ae98af92420583911a3e069941e5280">channel::EventManager::GetEvent</a></div><div class="ttdeci">std::shared_ptr&lt; T &gt; GetEvent(EventContext &amp;ctx)</div><div class="ttdoc">Get the event from the supplied context converted to the proper type. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00580">EventManager.h:580</a></div></div>
<div class="ttc" id="EventManager_8h_html_a82224bae604284567c8ac6eae2113af5"><div class="ttname"><a href="EventManager_8h.html#a82224bae604284567c8ac6eae2113af5">EventCompareMode</a></div><div class="ttdeci">objects::EventCondition::CompareMode_t EventCompareMode</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00056">EventManager.h:56</a></div></div>
<div class="ttc" id="structchannel_1_1EventManager_1_1EventContext_html_a57b019de1f69a5e064a4e038be8fb439"><div class="ttname"><a href="structchannel_1_1EventManager_1_1EventContext.html#a57b019de1f69a5e064a4e038be8fb439">channel::EventManager::EventContext::AutoOnly</a></div><div class="ttdeci">bool AutoOnly</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00351">EventManager.h:351</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae1465767d412e978f7b1a2fbf12e28d5"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae1465767d412e978f7b1a2fbf12e28d5">channel::EventManager::InterruptEvent</a></div><div class="ttdeci">int32_t InterruptEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Stop the client&#39;s current event and return the source entity ID if one existed. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00208">EventManager.cpp:208</a></div></div>
<div class="ttc" id="ScriptEngine_8h_html"><div class="ttname"><a href="../../../libcomp/html/ScriptEngine_8h.html">ScriptEngine.h</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_ae069693af178c3f23c7337488ed90311"><div class="ttname"><a href="classchannel_1_1EventManager.html#ae069693af178c3f23c7337488ed90311">channel::EventManager::EvaluatePartnerCondition</a></div><div class="ttdeci">bool EvaluatePartnerCondition(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const std::shared_ptr&lt; objects::EventCondition &gt; &amp;condition)</div><div class="ttdoc">Evaluate a partner demon based event condition. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01122">EventManager.cpp:1122</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a86a65a1a27093bbe6e4146bf870049a8"><div class="ttname"><a href="classchannel_1_1EventManager.html#a86a65a1a27093bbe6e4146bf870049a8">channel::EventManager::ResetDemonQuests</a></div><div class="ttdeci">bool ResetDemonQuests(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, uint32_t now, const std::shared_ptr&lt; libcomp::DatabaseChangeSet &gt; &amp;changes)</div><div class="ttdoc">Reset the quests available in from the demons in the COMP and set the demon quest daily count back to...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l03736">EventManager.cpp:3736</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a8217506a5619a61808b222eb50ad2956"><div class="ttname"><a href="classchannel_1_1EventManager.html#a8217506a5619a61808b222eb50ad2956">channel::EventManager::NPCMessage</a></div><div class="ttdeci">bool NPCMessage(EventContext &amp;ctx)</div><div class="ttdoc">Send an NPC based message to the client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04406">EventManager.cpp:4406</a></div></div>
<div class="ttc" id="structchannel_1_1EventOptions_html_a9005291f7a1e38cdf492f94bdd87ce50"><div class="ttname"><a href="structchannel_1_1EventOptions.html#a9005291f7a1e38cdf492f94bdd87ce50">channel::EventOptions::AutoOnly</a></div><div class="ttdeci">bool AutoOnly</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00074">EventManager.h:74</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af65ef1f610abcbb26d463d351021a960"><div class="ttname"><a href="classchannel_1_1EventManager.html#af65ef1f610abcbb26d463d351021a960">channel::EventManager::OpenMenu</a></div><div class="ttdeci">bool OpenMenu(EventContext &amp;ctx)</div><div class="ttdoc">Open a menu to the player representing various facilities and functions. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04561">EventManager.cpp:4561</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a107a9638d9422302d259dc34251f2e89"><div class="ttname"><a href="classchannel_1_1EventManager.html#a107a9638d9422302d259dc34251f2e89">channel::EventManager::StartSystemEvent</a></div><div class="ttdeci">bool StartSystemEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, int32_t sourceEntityID)</div><div class="ttdoc">Start a placeholder &quot;system&quot; event that does not end until explicitly requested. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00189">EventManager.cpp:189</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_af55f5eb904c1695a400e18ef7e2e3869"><div class="ttname"><a href="classchannel_1_1EventManager.html#af55f5eb904c1695a400e18ef7e2e3869">channel::EventManager::EvaluateQuestConditions</a></div><div class="ttdeci">bool EvaluateQuestConditions(EventContext &amp;ctx, int16_t questID)</div><div class="ttdoc">Evaluate each of the valid condition sets required to start a quest. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00874">EventManager.cpp:874</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a4e3ed0106a6af2dc7415def68b62d436"><div class="ttname"><a href="classchannel_1_1EventManager.html#a4e3ed0106a6af2dc7415def68b62d436">channel::EventManager::HandleNext</a></div><div class="ttdeci">void HandleNext(EventContext &amp;ctx)</div><div class="ttdoc">Progress or pop to the next sequential event if one exists. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04193">EventManager.cpp:4193</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2458e528d385522fa2d79de9f70f1e9b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2458e528d385522fa2d79de9f70f1e9b">channel::EventManager::ContinueChannelChangeEvent</a></div><div class="ttdeci">bool ContinueChannelChangeEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">Continue an event that was in progress when the supplied client changed from another channel to the c...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00538">EventManager.cpp:538</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a27c5a25166b0d544a7a09fda1072127d"><div class="ttname"><a href="classchannel_1_1EventManager.html#a27c5a25166b0d544a7a09fda1072127d">channel::EventManager::EndEvent</a></div><div class="ttdeci">bool EndEvent(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client)</div><div class="ttdoc">End the current event sequence. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04789">EventManager.cpp:4789</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_aff29d8d9c13936739a82e15f36a41310"><div class="ttname"><a href="classchannel_1_1EventManager.html#aff29d8d9c13936739a82e15f36a41310">channel::EventManager::mServer</a></div><div class="ttdeci">std::weak_ptr&lt; ChannelServer &gt; mServer</div><div class="ttdoc">Pointer to the channel server. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8h_source.html#l00646">EventManager.h:646</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a6d80733581e311434026103d5d782a2b"><div class="ttname"><a href="classchannel_1_1EventManager.html#a6d80733581e311434026103d5d782a2b">channel::EventManager::Direction</a></div><div class="ttdeci">bool Direction(EventContext &amp;ctx)</div><div class="ttdoc">Signify a direction to the player. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l04675">EventManager.cpp:4675</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_acf7c31750060885ae5ee6375f238d787"><div class="ttname"><a href="classchannel_1_1EventManager.html#acf7c31750060885ae5ee6375f238d787">channel::EventManager::UpdateQuestKillCount</a></div><div class="ttdeci">void UpdateQuestKillCount(const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client, const std::unordered_map&lt; uint32_t, int32_t &gt; &amp;kills)</div><div class="ttdoc">Update the client&#39;s quest kill counts (normal and demon) </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l00787">EventManager.cpp:787</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a6405c9bea0f9aceffce750bb565402c8"><div class="ttname"><a href="classchannel_1_1EventManager.html#a6405c9bea0f9aceffce750bb565402c8">channel::EventManager::EvaluateEventConditions</a></div><div class="ttdeci">bool EvaluateEventConditions(const std::shared_ptr&lt; Zone &gt; &amp;zone, const std::list&lt; std::shared_ptr&lt; objects::EventCondition &gt;&gt; &amp;conditions, const std::shared_ptr&lt; ChannelClientConnection &gt; &amp;client=nullptr)</div><div class="ttdoc">Evaluate a list of event conditions for a client. </div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l01413">EventManager.cpp:1413</a></div></div>
<div class="ttc" id="classchannel_1_1EventManager_html_a2a9845adb9272ff0f5f4e497630ad274"><div class="ttname"><a href="classchannel_1_1EventManager.html#a2a9845adb9272ff0f5f4e497630ad274">channel::EventManager::VerifyITime</a></div><div class="ttdeci">bool VerifyITime(EventContext &amp;ctx, std::shared_ptr&lt; objects::Event &gt; e)</div><div class="ttdoc">Verify if the supplied event can be executed in regards to the event entity&#39;s current I-Time state...</div><div class="ttdef"><b>Definition:</b> <a href="EventManager_8cpp_source.html#l05003">EventManager.cpp:5003</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
