<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>COMP_hack: channel::TokuseiManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechannel.html">channel</a></li><li class="navelem"><a class="el" href="classchannel_1_1TokuseiManager.html">TokuseiManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classchannel_1_1TokuseiManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">channel::TokuseiManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Manages tokusei specific logic for the server and validates the definitions read at run time.  
 <a href="classchannel_1_1TokuseiManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad3722fead8ace88f16896e03f2f6b915"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ad3722fead8ace88f16896e03f2f6b915">TokuseiManager</a> (const std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt; &amp;server)</td></tr>
<tr class="memdesc:ad3722fead8ace88f16896e03f2f6b915"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classchannel_1_1TokuseiManager.html" title="Manages tokusei specific logic for the server and validates the definitions read at run time...">TokuseiManager</a>.  <a href="#ad3722fead8ace88f16896e03f2f6b915">More...</a><br/></td></tr>
<tr class="separator:ad3722fead8ace88f16896e03f2f6b915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbbf720e9fe5abf534bd88309124a6fb"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#acbbf720e9fe5abf534bd88309124a6fb">~TokuseiManager</a> ()</td></tr>
<tr class="memdesc:acbbf720e9fe5abf534bd88309124a6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up the <a class="el" href="classchannel_1_1TokuseiManager.html" title="Manages tokusei specific logic for the server and validates the definitions read at run time...">TokuseiManager</a>.  <a href="#acbbf720e9fe5abf534bd88309124a6fb">More...</a><br/></td></tr>
<tr class="separator:acbbf720e9fe5abf534bd88309124a6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c864bc5a6a76c888752067474f423ad"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a5c864bc5a6a76c888752067474f423ad">AspectValueExists</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a> type, double value)</td></tr>
<tr class="memdesc:a5c864bc5a6a76c888752067474f423ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the supplied value exists for a specified aspect type on an entity.  <a href="#a5c864bc5a6a76c888752067474f423ad">More...</a><br/></td></tr>
<tr class="separator:a5c864bc5a6a76c888752067474f423ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b35b4748a48a311af62b769e09dfc7"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a77b35b4748a48a311af62b769e09dfc7">DeadTokuseiDisabled</a> ()</td></tr>
<tr class="memdesc:a77b35b4748a48a311af62b769e09dfc7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the server is configured for tokusei to become inactive from a source after it has been killed.  <a href="#a77b35b4748a48a311af62b769e09dfc7">More...</a><br/></td></tr>
<tr class="separator:a77b35b4748a48a311af62b769e09dfc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23327a0901395a358f76e5a64494e162"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a23327a0901395a358f76e5a64494e162">EvaluateTokuseiCondition</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, int32_t tokuseiID, const std::shared_ptr&lt; objects::TokuseiCondition &gt; &amp;condition)</td></tr>
<tr class="memdesc:a23327a0901395a358f76e5a64494e162"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate a condition from a tokusei.  <a href="#a23327a0901395a358f76e5a64494e162">More...</a><br/></td></tr>
<tr class="separator:a23327a0901395a358f76e5a64494e162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a949555a4ff11e1f4793eee3e99f6d9"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a3a949555a4ff11e1f4793eee3e99f6d9">EvaluateTokuseiConditions</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, const std::shared_ptr&lt; objects::Tokusei &gt; &amp;tokusei)</td></tr>
<tr class="memdesc:a3a949555a4ff11e1f4793eee3e99f6d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluate all conditions on a tokusei to determine if it should be active.  <a href="#a3a949555a4ff11e1f4793eee3e99f6d9">More...</a><br/></td></tr>
<tr class="separator:a3a949555a4ff11e1f4793eee3e99f6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc66b5512c37386c2866d4094b0557de"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#abc66b5512c37386c2866d4094b0557de">GetAllTokuseiEntities</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState)</td></tr>
<tr class="memdesc:abc66b5512c37386c2866d4094b0557de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all entities that could be affected by any other tokusei effect from another entity in the list, starting with the supplied entity.  <a href="#abc66b5512c37386c2866d4094b0557de">More...</a><br/></td></tr>
<tr class="separator:abc66b5512c37386c2866d4094b0557de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab01f59a69050eac43084892c145f2d6"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <br class="typebreak"/>
double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#aab01f59a69050eac43084892c145f2d6">GetAspectMap</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a> type, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:aab01f59a69050eac43084892c145f2d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the sum of all instances of a specific aspect's modifier values keyed on shared aspect value on the supplied entity.  <a href="#aab01f59a69050eac43084892c145f2d6">More...</a><br/></td></tr>
<tr class="separator:aab01f59a69050eac43084892c145f2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd95ef0a0b46f91286fc3cc42eb8e23"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <br class="typebreak"/>
double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a4bd95ef0a0b46f91286fc3cc42eb8e23">GetAspectMap</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a> type, std::set&lt; int32_t &gt; validKeys, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:a4bd95ef0a0b46f91286fc3cc42eb8e23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the sum of all instances of a specific aspect's modifier values keyed on shared aspect value on the supplied entity.  <a href="#a4bd95ef0a0b46f91286fc3cc42eb8e23">More...</a><br/></td></tr>
<tr class="separator:a4bd95ef0a0b46f91286fc3cc42eb8e23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd7b53af3902f6097897aaafe0c50b7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a7cd7b53af3902f6097897aaafe0c50b7">GetAspectSum</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a> type, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:a7cd7b53af3902f6097897aaafe0c50b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the sum of all instances of a specific aspect value on the supplied entity.  <a href="#a7cd7b53af3902f6097897aaafe0c50b7">More...</a><br/></td></tr>
<tr class="separator:a7cd7b53af3902f6097897aaafe0c50b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1983db37fd17107b6213c2c9d871c3"><td class="memItemLeft" align="right" valign="top">std::list&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a9b1983db37fd17107b6213c2c9d871c3">GetAspectValueList</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a> type, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:a9b1983db37fd17107b6213c2c9d871c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of all aspect values on the supplied entity and type.  <a href="#a9b1983db37fd17107b6213c2c9d871c3">More...</a><br/></td></tr>
<tr class="separator:a9b1983db37fd17107b6213c2c9d871c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb687c04024c47e372bc56b400170d4d"><td class="memItemLeft" align="right" valign="top">std::list&lt; std::shared_ptr<br class="typebreak"/>
&lt; objects::Tokusei &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#aeb687c04024c47e372bc56b400170d4d">GetDirectTokusei</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState)</td></tr>
<tr class="memdesc:aeb687c04024c47e372bc56b400170d4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all tokusei originating from the supplied entity, active or not.  <a href="#aeb687c04024c47e372bc56b400170d4d">More...</a><br/></td></tr>
<tr class="separator:aeb687c04024c47e372bc56b400170d4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada70d54d0772cafd8dba3ac12533109"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#aada70d54d0772cafd8dba3ac12533109">Initialize</a> ()</td></tr>
<tr class="memdesc:aada70d54d0772cafd8dba3ac12533109"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the manager and validate the tokusei definitions loaded.  <a href="#aada70d54d0772cafd8dba3ac12533109">More...</a><br/></td></tr>
<tr class="separator:aada70d54d0772cafd8dba3ac12533109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47e9d84fce009343c6e47bfa1e99860a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a47e9d84fce009343c6e47bfa1e99860a">RecalcTimedTokusei</a> (<a class="el" href="classchannel_1_1WorldClock.html">WorldClock</a> &amp;clock)</td></tr>
<tr class="memdesc:a47e9d84fce009343c6e47bfa1e99860a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate all time restricted tokusei based on the current world time.  <a href="#a47e9d84fce009343c6e47bfa1e99860a">More...</a><br/></td></tr>
<tr class="separator:a47e9d84fce009343c6e47bfa1e99860a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9e173f4d851b9a84f821a8e763429e"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a1c9e173f4d851b9a84f821a8e763429e">Recalculate</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, std::set&lt; <a class="el" href="TokuseiManager_8h.html#afde026119313264915f0693e650573f3">TokuseiConditionType</a> &gt; changes)</td></tr>
<tr class="memdesc:a1c9e173f4d851b9a84f821a8e763429e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the tokusei effects on the supplied entity and any related entities if any of the specified changes are triggers on the entity.  <a href="#a1c9e173f4d851b9a84f821a8e763429e">More...</a><br/></td></tr>
<tr class="separator:a1c9e173f4d851b9a84f821a8e763429e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05afabd3725bc6e928cd8a61619dbbb"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ad05afabd3725bc6e928cd8a61619dbbb">Recalculate</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> recalcStats=false, std::set&lt; int32_t &gt; ignoreStatRecalc={})</td></tr>
<tr class="memdesc:ad05afabd3725bc6e928cd8a61619dbbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the tokusei effects on the supplied entity and any related entities.  <a href="#ad05afabd3725bc6e928cd8a61619dbbb">More...</a><br/></td></tr>
<tr class="separator:ad05afabd3725bc6e928cd8a61619dbbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f10d12a2a677d9f4d2b7dc205b23615"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a1f10d12a2a677d9f4d2b7dc205b23615">Recalculate</a> (const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt;&gt; &amp;entities, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> recalcStats=false, std::set&lt; int32_t &gt; ignoreStatRecalc={})</td></tr>
<tr class="memdesc:a1f10d12a2a677d9f4d2b7dc205b23615"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the tokusei effects on the supplied entities.  <a href="#a1f10d12a2a677d9f4d2b7dc205b23615">More...</a><br/></td></tr>
<tr class="separator:a1f10d12a2a677d9f4d2b7dc205b23615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6630e7bf27fc2afac5a02eebb48c119"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ab6630e7bf27fc2afac5a02eebb48c119">RecalculateParty</a> (const std::shared_ptr&lt; objects::Party &gt; &amp;party)</td></tr>
<tr class="memdesc:ab6630e7bf27fc2afac5a02eebb48c119"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate the tokusei effects for all entities in a party on the channel.  <a href="#ab6630e7bf27fc2afac5a02eebb48c119">More...</a><br/></td></tr>
<tr class="separator:ab6630e7bf27fc2afac5a02eebb48c119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce689dbeee9a2c105646c8518330cb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a1ce689dbeee9a2c105646c8518330cb3">RemoveTrackingEntities</a> (int32_t worldCID)</td></tr>
<tr class="memdesc:a1ce689dbeee9a2c105646c8518330cb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister the world CID of a character that may have had time restricted tokusei associated to one or more entity.  <a href="#a1ce689dbeee9a2c105646c8518330cb3">More...</a><br/></td></tr>
<tr class="separator:a1ce689dbeee9a2c105646c8518330cb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa345290d80d883e3886b3c444755a052"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#aa345290d80d883e3886b3c444755a052">SendCostAdjustments</a> (int32_t entityID, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:aa345290d80d883e3886b3c444755a052"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send skill cost adjustments from tokusei for the specified entity to the client.  <a href="#aa345290d80d883e3886b3c444755a052">More...</a><br/></td></tr>
<tr class="separator:aa345290d80d883e3886b3c444755a052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96bfa8bf58292c0d5d467d62625058a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ac96bfa8bf58292c0d5d467d62625058a">UpdateDiasporaMinibossCount</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt; &amp;zone)</td></tr>
<tr class="memdesc:ac96bfa8bf58292c0d5d467d62625058a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all entities affected by the DIASPORA_MINIBOSS_COUNT tokusei condition in the supplied zone.  <a href="#ac96bfa8bf58292c0d5d467d62625058a">More...</a><br/></td></tr>
<tr class="separator:ac96bfa8bf58292c0d5d467d62625058a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a660e912934050a0b67d8db0d6057c2ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a660e912934050a0b67d8db0d6057c2ba">UpdateMovementDecay</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client, float distance)</td></tr>
<tr class="memdesc:a660e912934050a0b67d8db0d6057c2ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lower durability on all movement durability decay equipment.  <a href="#a660e912934050a0b67d8db0d6057c2ba">More...</a><br/></td></tr>
<tr class="separator:a660e912934050a0b67d8db0d6057c2ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae06ae0d1257bd28fa5eb66009728095c"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ae06ae0d1257bd28fa5eb66009728095c">CalculateAttributeValue</a> (<a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> *eState, int32_t value, int32_t base, const std::shared_ptr&lt; objects::TokuseiAttributes &gt; &amp;attributes, std::shared_ptr&lt; objects::CalculatedEntityState &gt; calcState=nullptr)</td></tr>
<tr class="memdesc:ae06ae0d1257bd28fa5eb66009728095c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate the value of an attribute driven tokusei value.  <a href="#ae06ae0d1257bd28fa5eb66009728095c">More...</a><br/></td></tr>
<tr class="separator:ae06ae0d1257bd28fa5eb66009728095c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a31bebcd0724b5593924e14d25475d8aa"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a31bebcd0724b5593924e14d25475d8aa">BuildWorldClockTime</a> (std::shared_ptr&lt; objects::TokuseiCondition &gt; condition, <a class="el" href="classchannel_1_1WorldClockTime.html">WorldClockTime</a> &amp;time)</td></tr>
<tr class="memdesc:a31bebcd0724b5593924e14d25475d8aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a tokusei condition to a world clock time representation.  <a href="#a31bebcd0724b5593924e14d25475d8aa">More...</a><br/></td></tr>
<tr class="separator:a31bebcd0724b5593924e14d25475d8aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0b4a86960239d85513197325cdd928"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a9f0b4a86960239d85513197325cdd928">Compare</a> (int32_t value, std::shared_ptr&lt; objects::TokuseiCondition &gt; condition, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> numericCompare) const </td></tr>
<tr class="memdesc:a9f0b4a86960239d85513197325cdd928"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the supplied value and condition value.  <a href="#a9f0b4a86960239d85513197325cdd928">More...</a><br/></td></tr>
<tr class="separator:a9f0b4a86960239d85513197325cdd928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17f5945180b270844f428aef257b840b"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a17f5945180b270844f428aef257b840b">Compare</a> (int32_t value1, int32_t value2, std::shared_ptr&lt; objects::TokuseiCondition &gt; condition, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> numericCompare) const </td></tr>
<tr class="memdesc:a17f5945180b270844f428aef257b840b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare the supplied two values.  <a href="#a17f5945180b270844f428aef257b840b">More...</a><br/></td></tr>
<tr class="separator:a17f5945180b270844f428aef257b840b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee4d1052bd7d26819cd12ea4af47b269"><td class="memItemLeft" align="right" valign="top"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#aee4d1052bd7d26819cd12ea4af47b269">GatherTimedTokusei</a> (const std::shared_ptr&lt; objects::Tokusei &gt; &amp;tokusei)</td></tr>
<tr class="memdesc:aee4d1052bd7d26819cd12ea4af47b269"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gather all timed tokusei conditions and register their time representations with the manager and server.  <a href="#aee4d1052bd7d26819cd12ea4af47b269">More...</a><br/></td></tr>
<tr class="separator:aee4d1052bd7d26819cd12ea4af47b269"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eeb554a52231f322546e9f1cc1391cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a3eeb554a52231f322546e9f1cc1391cc">RecalcCostAdjustments</a> (const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;eState)</td></tr>
<tr class="memdesc:a3eeb554a52231f322546e9f1cc1391cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalculate skill cost adjustments from tokusei for the specified entity.  <a href="#a3eeb554a52231f322546e9f1cc1391cc">More...</a><br/></td></tr>
<tr class="separator:a3eeb554a52231f322546e9f1cc1391cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac439ed985d3b2f7dd56c6cf747f03db5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#ac439ed985d3b2f7dd56c6cf747f03db5">SendCostAdjustments</a> (int32_t entityID, std::list&lt; std::shared_ptr&lt; objects::ClientCostAdjustment &gt;&gt; &amp;adjustments, const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;client)</td></tr>
<tr class="memdesc:ac439ed985d3b2f7dd56c6cf747f03db5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send skill cost adjustments from tokusei for the specified entity to the client.  <a href="#ac439ed985d3b2f7dd56c6cf747f03db5">More...</a><br/></td></tr>
<tr class="separator:ac439ed985d3b2f7dd56c6cf747f03db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2e0a38f7b6fd8df5ea83a5fdbc705a66"><td class="memItemLeft" align="right" valign="top">std::set&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a2e0a38f7b6fd8df5ea83a5fdbc705a66">mCostAdjustmentTokusei</a></td></tr>
<tr class="memdesc:a2e0a38f7b6fd8df5ea83a5fdbc705a66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of all tokusei with at least one cost adjustment aspect.  <a href="#a2e0a38f7b6fd8df5ea83a5fdbc705a66">More...</a><br/></td></tr>
<tr class="separator:a2e0a38f7b6fd8df5ea83a5fdbc705a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3075779b168a0bb0d050405f9c85dd7d"><td class="memItemLeft" align="right" valign="top">std::set&lt; int32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a3075779b168a0bb0d050405f9c85dd7d">mMoveDecayTokusei</a></td></tr>
<tr class="memdesc:a3075779b168a0bb0d050405f9c85dd7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of all tokusei with at least one movement decay aspect.  <a href="#a3075779b168a0bb0d050405f9c85dd7d">More...</a><br/></td></tr>
<tr class="separator:a3075779b168a0bb0d050405f9c85dd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62aae6e0d3befb067c6535fe8288f645"><td class="memItemLeft" align="right" valign="top">std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a62aae6e0d3befb067c6535fe8288f645">mServer</a></td></tr>
<tr class="memdesc:a62aae6e0d3befb067c6535fe8288f645"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the channel server.  <a href="#a62aae6e0d3befb067c6535fe8288f645">More...</a><br/></td></tr>
<tr class="separator:a62aae6e0d3befb067c6535fe8288f645"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add39ba4ee9398e83852a2c0086e17846"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, <br class="typebreak"/>
std::set&lt; int32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#add39ba4ee9398e83852a2c0086e17846">mStatusEffectTokusei</a></td></tr>
<tr class="memdesc:add39ba4ee9398e83852a2c0086e17846"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick access mapping of constant status effect IDs to their source tokusei IDs.  <a href="#add39ba4ee9398e83852a2c0086e17846">More...</a><br/></td></tr>
<tr class="separator:add39ba4ee9398e83852a2c0086e17846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd635fd66a363244f22469217774ead9"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#acd635fd66a363244f22469217774ead9">mTimedTokusei</a></td></tr>
<tr class="memdesc:acd635fd66a363244f22469217774ead9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of all tokusei effect IDs that have a time restriction to a boolean "active" indicator.  <a href="#acd635fd66a363244f22469217774ead9">More...</a><br/></td></tr>
<tr class="separator:acd635fd66a363244f22469217774ead9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c4141f6f5163f7e1da9a86c2588544"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; int32_t, <br class="typebreak"/>
std::set&lt; int32_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a77c4141f6f5163f7e1da9a86c2588544">mTimedTokuseiEntities</a></td></tr>
<tr class="memdesc:a77c4141f6f5163f7e1da9a86c2588544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of world CIDs to the set of related time restricted tokusei.  <a href="#a77c4141f6f5163f7e1da9a86c2588544">More...</a><br/></td></tr>
<tr class="separator:a77c4141f6f5163f7e1da9a86c2588544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a750c20ee1219bb6ee22c1549f1bddc9c"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchannel_1_1TokuseiManager.html#a750c20ee1219bb6ee22c1549f1bddc9c">mTimeLock</a></td></tr>
<tr class="memdesc:a750c20ee1219bb6ee22c1549f1bddc9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server lock for time calculation.  <a href="#a750c20ee1219bb6ee22c1549f1bddc9c">More...</a><br/></td></tr>
<tr class="separator:a750c20ee1219bb6ee22c1549f1bddc9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Manages tokusei specific logic for the server and validates the definitions read at run time. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00064">64</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad3722fead8ace88f16896e03f2f6b915"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TokuseiManager::TokuseiManager </td>
          <td>(</td>
          <td class="paramtype">const std::weak_ptr&lt; <a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>server</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classchannel_1_1TokuseiManager.html" title="Manages tokusei specific logic for the server and validates the definitions read at run time...">TokuseiManager</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>Pointer back to the channel server this belongs to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00078">78</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="acbbf720e9fe5abf534bd88309124a6fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TokuseiManager::~TokuseiManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clean up the <a class="el" href="classchannel_1_1TokuseiManager.html" title="Manages tokusei specific logic for the server and validates the definitions read at run time...">TokuseiManager</a>. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00083">83</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5c864bc5a6a76c888752067474f423ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::AspectValueExists </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the supplied value exists for a specified aspect type on an entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">type</td><td>Aspect type to gather values from </td></tr>
    <tr><td class="paramname">value</td><td>Value to check for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the value exists, false if it does not </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01986">1986</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01942">GetAspectValueList()</a>.</p>

</div>
</div>
<a class="anchor" id="a31bebcd0724b5593924e14d25475d8aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::BuildWorldClockTime </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; objects::TokuseiCondition &gt;&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classchannel_1_1WorldClockTime.html">WorldClockTime</a> &amp;&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a tokusei condition to a world clock time representation. </p>
<p>Calling this function for multiple conditions will combine the times into a complex time representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">condition</td><td>Pointer to the tokusei condition </td></tr>
    <tr><td class="paramname">time</td><td>Output parameter to store the time in </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true the time was adjusted correctly, false if an error occurred </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02362">2362</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="WorldClock_8h_source.html#l00058">channel::WorldClockTime::Hour</a>, <a class="el" href="WorldClock_8h_source.html#l00061">channel::WorldClockTime::Min</a>, and <a class="el" href="WorldClock_8h_source.html#l00055">channel::WorldClockTime::MoonPhase</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00466">GatherTimedTokusei()</a>.</p>

</div>
</div>
<a class="anchor" id="ae06ae0d1257bd28fa5eb66009728095c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double TokuseiManager::CalculateAttributeValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> *&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::TokuseiAttributes &gt; &amp;&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculate the value of an attribute driven tokusei value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">value</td><td>Default value to use for the calculation </td></tr>
    <tr><td class="paramname">base</td><td>Base value used for specific calculation types </td></tr>
    <tr><td class="paramname">attributes</td><td>Pointer to the attribute definitions to use when calculating the value </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated attribute value </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01629">1629</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02342">channel::ActiveEntityState::GetCoreStats()</a>, <a class="el" href="ClientState_8cpp_source.html#l00089">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l02347">channel::ActiveEntityState::GetLevel()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetWorldCID()</a>, <a class="el" href="ActiveEntityState_8cpp_source.html#l00684">channel::ActiveEntityState::GetZone()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="ActiveEntityState_8cpp_source.html#l02646">channel::ActiveEntityState::AdjustStats()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01882">GetAspectMap()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01831">GetAspectSum()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01942">GetAspectValueList()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02168">RecalcCostAdjustments()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f0b4a86960239d85513197325cdd928"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::Compare </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::TokuseiCondition &gt;&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>numericCompare</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the supplied value and condition value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>LHS value to compare </td></tr>
    <tr><td class="paramname">condition</td><td>Tokusei condition to use the comparator and RHS value from </td></tr>
    <tr><td class="paramname">numericCompare</td><td>If false and a numeric comparator type is on the condition this will always return false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the condition does not evaluate to true </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02410">2410</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01371">EvaluateTokuseiCondition()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>.</p>

</div>
</div>
<a class="anchor" id="a17f5945180b270844f428aef257b840b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::Compare </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>value2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::TokuseiCondition &gt;&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>numericCompare</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compare the supplied two values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value1</td><td>LHS value to compare </td></tr>
    <tr><td class="paramname">value2</td><td>RHS value to compare </td></tr>
    <tr><td class="paramname">condition</td><td>Tokusei condition to use the comparator from </td></tr>
    <tr><td class="paramname">numericCompare</td><td>If false and a numeric comparator type is on the condition this will always return false </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>false if the condition does not evaluate to true </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02416">2416</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a77b35b4748a48a311af62b769e09dfc7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::DeadTokuseiDisabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the server is configured for tokusei to become inactive from a source after it has been killed. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the tokusei should become inactive, false if they should stay active </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02161">2161</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01045">GetDirectTokusei()</a>.</p>

</div>
</div>
<a class="anchor" id="a23327a0901395a358f76e5a64494e162"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::EvaluateTokuseiCondition </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>tokuseiID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::TokuseiCondition &gt; &amp;&#160;</td>
          <td class="paramname"><em>condition</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate a condition from a tokusei. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source to evaluate the conditions for </td></tr>
    <tr><td class="paramname">tokuseiID</td><td>ID of the source tokusei effect </td></tr>
    <tr><td class="paramname">condition</td><td>Pointer to the condition to evaluate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the condition evaluates to true </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01371">1371</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l02410">Compare()</a>, <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00089">channel::ClientState::GetDemonState()</a>, <a class="el" href="CharacterState_8cpp_source.html#l00153">channel::CharacterState::GetDigitalizeState()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l01125">channel::ActiveEntityStateImp&lt; T &gt;::GetEntity()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="CharacterState_8cpp_source.html#l00751">channel::CharacterState::GetExpertiseRank()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetWorldCID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00313">channel::ClientState::GetZone()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, <a class="el" href="TokuseiManager_8h_source.html#l00349">mTimedTokusei</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01310">EvaluateTokuseiConditions()</a>.</p>

</div>
</div>
<a class="anchor" id="a3a949555a4ff11e1f4793eee3e99f6d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::EvaluateTokuseiConditions </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Tokusei &gt; &amp;&#160;</td>
          <td class="paramname"><em>tokusei</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Evaluate all conditions on a tokusei to determine if it should be active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source to evaluate the conditions for </td></tr>
    <tr><td class="paramname">tokusei</td><td>Pointer to the tokusei to evaluate the conditions for </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the condition set evaluates to true </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01310">1310</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01371">EvaluateTokuseiCondition()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="aee4d1052bd7d26819cd12ea4af47b269"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::GatherTimedTokusei </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Tokusei &gt; &amp;&#160;</td>
          <td class="paramname"><em>tokusei</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gather all timed tokusei conditions and register their time representations with the manager and server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tokusei</td><td>Pointer to the tokusei definition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the tokusei was registered successfully, false if an error occurred </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00466">466</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#a8ffc97ef5bf9121723545168e5dbb4ca">libcomp::String::Arg()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02362">BuildWorldClockTime()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00349">mTimedTokusei</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00087">Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="abc66b5512c37386c2866d4094b0557de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &gt; TokuseiManager::GetAllTokuseiEntities </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all entities that could be affected by any other tokusei effect from another entity in the list, starting with the supplied entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the primary entity to add to the list </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of entities that could affect one another via a tokusei </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00993">993</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00089">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetWorldCID()</a>, <a class="el" href="ClientState_8cpp_source.html#l00313">channel::ClientState::GetZone()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00625">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="aab01f59a69050eac43084892c145f2d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, double &gt; TokuseiManager::GetAspectMap </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the sum of all instances of a specific aspect's modifier values keyed on shared aspect value on the supplied entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">type</td><td>Aspect type to gather values from </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of calculated aspect modifier value sums by aspect value </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01874">1874</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4bd95ef0a0b46f91286fc3cc42eb8e23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, double &gt; TokuseiManager::GetAspectMap </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; int32_t &gt;&#160;</td>
          <td class="paramname"><em>validKeys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the sum of all instances of a specific aspect's modifier values keyed on shared aspect value on the supplied entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">type</td><td>Aspect type to gather values from </td></tr>
    <tr><td class="paramname">validKeys</td><td>Set of keys to keep from the overall set </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of calculated aspect modifier value sums by aspect value with a default value of zero </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01882">1882</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01629">CalculateAttributeValue()</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>.</p>

</div>
</div>
<a class="anchor" id="a7cd7b53af3902f6097897aaafe0c50b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double TokuseiManager::GetAspectSum </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate the sum of all instances of a specific aspect value on the supplied entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">type</td><td>Aspect type to calculate the sum of </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Calculated aspect value sum </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01831">1831</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01629">CalculateAttributeValue()</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>.</p>

</div>
</div>
<a class="anchor" id="a9b1983db37fd17107b6213c2c9d871c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; double &gt; TokuseiManager::GetAspectValueList </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="TokuseiManager_8h.html#a1cf8c17d48412771a8682a6b3d68da8f">TokuseiAspectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; objects::CalculatedEntityState &gt;&#160;</td>
          <td class="paramname"><em>calcState</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the list of all aspect values on the supplied entity and type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the tokusei source </td></tr>
    <tr><td class="paramname">type</td><td>Aspect type to gather values from </td></tr>
    <tr><td class="paramname">calcState</td><td>Override CalculatedEntityState to use instead of the entity's default </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of all aspect values of the specified type </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01942">1942</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01629">CalculateAttributeValue()</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01986">AspectValueExists()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb687c04024c47e372bc56b400170d4d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; std::shared_ptr&lt; objects::Tokusei &gt; &gt; TokuseiManager::GetDirectTokusei </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get all tokusei originating from the supplied entity, active or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the entity </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of tokusei originating from the supplied entity, can contain duplicates </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l01045">1045</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l02161">DeadTokuseiDisabled()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l01125">channel::ActiveEntityStateImp&lt; T &gt;::GetEntity()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l01144">channel::ActiveEntityStateImp&lt; T &gt;::GetLevel()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, and <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/ServerConstants_8h.html#a693b6ba29a440fa12e37272cebccce29">SVR_CONST</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="aada70d54d0772cafd8dba3ac12533109"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> TokuseiManager::Initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the manager and validate the tokusei definitions loaded. </p>
<dl class="section return"><dt>Returns</dt><dd>false if any errors were encountered </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00087">87</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1String.html#a8ffc97ef5bf9121723545168e5dbb4ca">libcomp::String::Arg()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00466">GatherTimedTokusei()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00357">mCostAdjustmentTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00360">mMoveDecayTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00345">mStatusEffectTokusei</a>.</p>

<p>Referenced by <a class="el" href="ChannelServer_8cpp_source.html#l00112">channel::ChannelServer::Initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a3eeb554a52231f322546e9f1cc1391cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::RecalcCostAdjustments </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Recalculate skill cost adjustments from tokusei for the specified entity. </p>
<p>If the entity's data has already been sent to the client, the new costs will be sent too. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the entity to recalculate </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02168">2168</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01629">CalculateAttributeValue()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00357">mCostAdjustmentTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02130">SendCostAdjustments()</a>, <a class="el" href="ClientState_8cpp_source.html#l00430">channel::ClientState::SetCostAdjustments()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a47e9d84fce009343c6e47bfa1e99860a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::RecalcTimedTokusei </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchannel_1_1WorldClock.html">WorldClock</a> &amp;&#160;</td>
          <td class="paramname"><em>clock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate all time restricted tokusei based on the current world time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">clock</td><td>World clock set to the current time </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02000">2000</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l02410">Compare()</a>, <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="WorldClock_8h_source.html#l00058">channel::WorldClockTime::Hour</a>, <a class="el" href="WorldClock_8h_source.html#l00061">channel::WorldClockTime::Min</a>, <a class="el" href="WorldClock_8h_source.html#l00055">channel::WorldClockTime::MoonPhase</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, <a class="el" href="TokuseiManager_8h_source.html#l00349">mTimedTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00354">mTimedTokuseiEntities</a>, <a class="el" href="TokuseiManager_8h_source.html#l00363">mTimeLock</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00583">Recalculate()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="ChannelServer_8cpp_source.html#l01409">channel::ChannelServer::HandleClockEvents()</a>, and <a class="el" href="ChannelServer_8cpp_source.html#l01331">channel::ChannelServer::ScheduleRecurringActions()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c9e173f4d851b9a84f821a8e763429e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; TokuseiManager::Recalculate </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; <a class="el" href="TokuseiManager_8h.html#afde026119313264915f0693e650573f3">TokuseiConditionType</a> &gt;&#160;</td>
          <td class="paramname"><em>changes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the tokusei effects on the supplied entity and any related entities if any of the specified changes are triggers on the entity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the entity that has changed </td></tr>
    <tr><td class="paramname">changes</td><td>Changes that could trigger a tokusei recalculation </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of entity IDs to a true value if they have had their stats recalculated or false if only their tokusei sets and triggers were updated </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00583">583</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00625">Recalculate()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00962">RecalculateParty()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02141">UpdateDiasporaMinibossCount()</a>.</p>

</div>
</div>
<a class="anchor" id="ad05afabd3725bc6e928cd8a61619dbbb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; TokuseiManager::Recalculate </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>eState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>recalcStats</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; int32_t &gt;&#160;</td>
          <td class="paramname"><em>ignoreStatRecalc</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the tokusei effects on the supplied entity and any related entities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eState</td><td>Pointer to the primary entity to recalculate </td></tr>
    <tr><td class="paramname">recalcStats</td><td>false if the effect tokusei should be determined but the entities should not have their stats recalculated, true if both should occur </td></tr>
    <tr><td class="paramname">ignoreStateRecalc</td><td>Set of entity IDs to ignore when recalculating stats </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of entity IDs to a true value if they have had their stats recalculated or false if only their tokusei sets and triggers were updated </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00625">625</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l00993">GetAllTokuseiEntities()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l00583">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f10d12a2a677d9f4d2b7dc205b23615"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; TokuseiManager::Recalculate </td>
          <td>(</td>
          <td class="paramtype">const std::list&lt; std::shared_ptr&lt; <a class="el" href="classchannel_1_1ActiveEntityState.html">ActiveEntityState</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>entities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>recalcStats</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::set&lt; int32_t &gt;&#160;</td>
          <td class="paramname"><em>ignoreStatRecalc</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the tokusei effects on the supplied entities. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entities</td><td>List of pointers to the entities to recalculate </td></tr>
    <tr><td class="paramname">recalcStats</td><td>false if the effect tokusei should be determined but the entities should not have their stats recalculated, true if both should occur </td></tr>
    <tr><td class="paramname">ignoreStateRecalc</td><td>Set of entity IDs to ignore when recalculating stats </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of entity IDs to a true value if they have had their stats recalculated or false if only their tokusei sets and triggers were updated </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00632">632</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l01310">EvaluateTokuseiConditions()</a>, <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00089">channel::ClientState::GetDemonState()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01045">GetDirectTokusei()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00308">channel::ClientState::GetWorldCID()</a>, <a class="el" href="ActiveEntityState_8h_source.html#l00162">channel::StatusEffectChange::IsConstant</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, <a class="el" href="TokuseiManager_8h_source.html#l00345">mStatusEffectTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00349">mTimedTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00354">mTimedTokuseiEntities</a>, <a class="el" href="TokuseiManager_8h_source.html#l00363">mTimeLock</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02168">RecalcCostAdjustments()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6630e7bf27fc2afac5a02eebb48c119"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> &gt; TokuseiManager::RecalculateParty </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::Party &gt; &amp;&#160;</td>
          <td class="paramname"><em>party</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recalculate the tokusei effects for all entities in a party on the channel. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">party</td><td>Pointer to the party which will have its entities recalculated </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Map of entity IDs to a true value if they have had their stats recalculated or false if only their tokusei sets and triggers were updated </dd></dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l00962">962</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00089">channel::ClientState::GetDemonState()</a>, <a class="el" href="ClientState_8cpp_source.html#l00421">channel::ClientState::GetEntityClientState()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00583">Recalculate()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ce689dbeee9a2c105646c8518330cb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::RemoveTrackingEntities </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>worldCID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unregister the world CID of a character that may have had time restricted tokusei associated to one or more entity. </p>
<p>Call this any time a player logs off just in case. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worldCID</td><td>World CID associated to a character </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02074">2074</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8h_source.html#l00354">mTimedTokuseiEntities</a>, and <a class="el" href="TokuseiManager_8h_source.html#l00363">mTimeLock</a>.</p>

</div>
</div>
<a class="anchor" id="aa345290d80d883e3886b3c444755a052"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::SendCostAdjustments </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send skill cost adjustments from tokusei for the specified entity to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entityID</td><td>ID of the entity with cost adjustments </td></tr>
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02130">2130</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00503">channel::ClientState::GetCostAdjustments()</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l02168">RecalcCostAdjustments()</a>.</p>

</div>
</div>
<a class="anchor" id="ac439ed985d3b2f7dd56c6cf747f03db5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::SendCostAdjustments </td>
          <td>(</td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>entityID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; objects::ClientCostAdjustment &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>adjustments</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send skill cost adjustments from tokusei for the specified entity to the client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entityID</td><td>ID of the entity with cost adjustments </td></tr>
    <tr><td class="paramname">adjustments</td><td>List of adjustments to send to the client </td></tr>
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02339">2339</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2334f0cb7c1a8b853cde6e92293b07fc">libcomp::Packet::WritePacketCode()</a>, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ab4d39238a6c6aa34b51481009eabad10">libcomp::Packet::WriteS32Little()</a>, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#ad995a520b3f035ccb13860b4801666f6">libcomp::Packet::WriteU32Little()</a>, and <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/classlibcomp_1_1Packet.html#a2507cb23cbaf9e6544370f7604c5810b">libcomp::Packet::WriteU8()</a>.</p>

</div>
</div>
<a class="anchor" id="ac96bfa8bf58292c0d5d467d62625058a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::UpdateDiasporaMinibossCount </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1Zone.html">Zone</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>zone</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update all entities affected by the DIASPORA_MINIBOSS_COUNT tokusei condition in the supplied zone. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">zone</td><td>Pointer to the zone that was updated </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02141">2141</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="TokuseiManager_8cpp_source.html#l00583">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a660e912934050a0b67d8db0d6057c2ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TokuseiManager::UpdateMovementDecay </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classchannel_1_1ChannelClientConnection.html">ChannelClientConnection</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>client</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lower durability on all movement durability decay equipment. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">client</td><td>Pointer to the client connection </td></tr>
    <tr><td class="paramname">distance</td><td>Movement distance delta used to calculate how much the durability will lower by </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="TokuseiManager_8cpp_source.html#l02080">2080</a> of file <a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a>.</p>

<p>References <a class="el" href="ClientState_8cpp_source.html#l00084">channel::ClientState::GetCharacterState()</a>, <a class="el" href="TokuseiManager_8h_source.html#l00360">mMoveDecayTokusei</a>, <a class="el" href="TokuseiManager_8h_source.html#l00366">mServer</a>, and <a class="el" href="ChannelClientConnection_8h_source.html#l00136">channel::state()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2e0a38f7b6fd8df5ea83a5fdbc705a66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int32_t&gt; channel::TokuseiManager::mCostAdjustmentTokusei</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of all tokusei with at least one cost adjustment aspect. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00357">357</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00087">Initialize()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02168">RecalcCostAdjustments()</a>.</p>

</div>
</div>
<a class="anchor" id="a3075779b168a0bb0d050405f9c85dd7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;int32_t&gt; channel::TokuseiManager::mMoveDecayTokusei</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of all tokusei with at least one movement decay aspect. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00360">360</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00087">Initialize()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02080">UpdateMovementDecay()</a>.</p>

</div>
</div>
<a class="anchor" id="a62aae6e0d3befb067c6535fe8288f645"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::weak_ptr&lt;<a class="el" href="classchannel_1_1ChannelServer.html">ChannelServer</a>&gt; channel::TokuseiManager::mServer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the channel server. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00366">366</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l02161">DeadTokuseiDisabled()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01371">EvaluateTokuseiCondition()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00466">GatherTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01882">GetAspectMap()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01831">GetAspectSum()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01942">GetAspectValueList()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l01045">GetDirectTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00087">Initialize()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02168">RecalcCostAdjustments()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02080">UpdateMovementDecay()</a>.</p>

</div>
</div>
<a class="anchor" id="add39ba4ee9398e83852a2c0086e17846"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint32_t, std::set&lt;int32_t&gt; &gt; channel::TokuseiManager::mStatusEffectTokusei</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Quick access mapping of constant status effect IDs to their source tokusei IDs. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00345">345</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l00087">Initialize()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="acd635fd66a363244f22469217774ead9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int32_t, <a class="elRef" doxygen="/home/travis/build/comphack/comp_hack/build/api/libcomp.tags:../../../libcomp/html/" href="../../../libcomp/html/DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&gt; channel::TokuseiManager::mTimedTokusei</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of all tokusei effect IDs that have a time restriction to a boolean "active" indicator. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00349">349</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l01371">EvaluateTokuseiCondition()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00466">GatherTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a77c4141f6f5163f7e1da9a86c2588544"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;int32_t, std::set&lt;int32_t&gt; &gt; channel::TokuseiManager::mTimedTokuseiEntities</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of world CIDs to the set of related time restricted tokusei. </p>
<p>This set is updated entity direct tokusei only and does not require that the effect is ultimately marked as effective. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00354">354</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02074">RemoveTrackingEntities()</a>.</p>

</div>
</div>
<a class="anchor" id="a750c20ee1219bb6ee22c1549f1bddc9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex channel::TokuseiManager::mTimeLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Server lock for time calculation. </p>

<p>Definition at line <a class="el" href="TokuseiManager_8h_source.html#l00363">363</a> of file <a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a>.</p>

<p>Referenced by <a class="el" href="TokuseiManager_8cpp_source.html#l02000">RecalcTimedTokusei()</a>, <a class="el" href="TokuseiManager_8cpp_source.html#l00632">Recalculate()</a>, and <a class="el" href="TokuseiManager_8cpp_source.html#l02074">RemoveTrackingEntities()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="TokuseiManager_8h_source.html">TokuseiManager.h</a></li>
<li><a class="el" href="TokuseiManager_8cpp_source.html">TokuseiManager.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
