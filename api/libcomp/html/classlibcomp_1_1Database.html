<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>COMP_hack: libcomp::Database Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="reflogo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">COMP_hack
   </div>
   <div id="projectbrief">Shin Megami Tensei Online: IMAGINE Server Emulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelibcomp.html">libcomp</a></li><li class="navelem"><a class="el" href="classlibcomp_1_1Database.html">Database</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlibcomp_1_1Database-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">libcomp::Database Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class that represents a database to use for loading and modifying <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances as well as utility tables by translating actions to database specific query syntax.  
 <a href="classlibcomp_1_1Database.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Database_8h_source.html">Database.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for libcomp::Database:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classlibcomp_1_1Database.png" usemap="#libcomp::Database_map" alt=""/>
  <map id="libcomp::Database_map" name="libcomp::Database_map">
<area href="classlibcomp_1_1DatabaseMariaDB.html" title="Represents a MariaDB database connection via the supplied config. " alt="libcomp::DatabaseMariaDB" shape="rect" coords="0,112,253,136"/>
<area href="classlibcomp_1_1DatabaseSQLite3.html" title="Represents a SQLite3 database connection associated to a specific file via the supplied config..." alt="libcomp::DatabaseSQLite3" shape="rect" coords="263,112,516,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac54a972830f30edf74be00dda5c4d006"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ac54a972830f30edf74be00dda5c4d006">Database</a> (const std::shared_ptr&lt; objects::DatabaseConfig &gt; &amp;config)</td></tr>
<tr class="memdesc:ac54a972830f30edf74be00dda5c4d006"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classlibcomp_1_1Database.html" title="Abstract base class that represents a database to use for loading and modifying PersistentObject inst...">Database</a> connection.  <a href="#ac54a972830f30edf74be00dda5c4d006">More...</a><br/></td></tr>
<tr class="separator:ac54a972830f30edf74be00dda5c4d006"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84d399a2ad58d69daab9b05330e1316d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a84d399a2ad58d69daab9b05330e1316d">~Database</a> ()</td></tr>
<tr class="memdesc:a84d399a2ad58d69daab9b05330e1316d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close and clean up the database connection.  <a href="#a84d399a2ad58d69daab9b05330e1316d">More...</a><br/></td></tr>
<tr class="separator:a84d399a2ad58d69daab9b05330e1316d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2ddcf6da45d7e3e1f3c1ea1c07701a6"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ae2ddcf6da45d7e3e1f3c1ea1c07701a6">ApplyMigration</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a> &gt; &amp;server, <a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> *pDataStore, const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;migration, const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;path)</td></tr>
<tr class="memdesc:ae2ddcf6da45d7e3e1f3c1ea1c07701a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a database migration script.  <a href="#ae2ddcf6da45d7e3e1f3c1ea1c07701a6">More...</a><br/></td></tr>
<tr class="separator:ae2ddcf6da45d7e3e1f3c1ea1c07701a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760e06342224a40b248d9b53363a45cd"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a760e06342224a40b248d9b53363a45cd">Close</a> ()=0</td></tr>
<tr class="memdesc:a760e06342224a40b248d9b53363a45cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the connection to the database.  <a href="#a760e06342224a40b248d9b53363a45cd">More...</a><br/></td></tr>
<tr class="separator:a760e06342224a40b248d9b53363a45cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ba9941107ce107c20b953511217481c"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a7ba9941107ce107c20b953511217481c">DeleteObjects</a> (std::list&lt; std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&gt; &amp;objs)=0</td></tr>
<tr class="memdesc:a7ba9941107ce107c20b953511217481c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete multiple <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances from the database at once.  <a href="#a7ba9941107ce107c20b953511217481c">More...</a><br/></td></tr>
<tr class="separator:a7ba9941107ce107c20b953511217481c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767850599cf498210c0cb65a70550c8f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a767850599cf498210c0cb65a70550c8f">DeleteSingleObject</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;obj)</td></tr>
<tr class="memdesc:a767850599cf498210c0cb65a70550c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance from the database.  <a href="#a767850599cf498210c0cb65a70550c8f">More...</a><br/></td></tr>
<tr class="separator:a767850599cf498210c0cb65a70550c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06582f7596b1d08996032087ea48e0b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ad06582f7596b1d08996032087ea48e0b">Execute</a> (const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;query)</td></tr>
<tr class="memdesc:ad06582f7596b1d08996032087ea48e0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare and execute a database query for execution based upon query text.  <a href="#ad06582f7596b1d08996032087ea48e0b">More...</a><br/></td></tr>
<tr class="separator:ad06582f7596b1d08996032087ea48e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfbdc79b6d70b10c9cf4c2f44c56eaea"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#abfbdc79b6d70b10c9cf4c2f44c56eaea">Exists</a> ()=0</td></tr>
<tr class="memdesc:abfbdc79b6d70b10c9cf4c2f44c56eaea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the database is valid.  <a href="#abfbdc79b6d70b10c9cf4c2f44c56eaea">More...</a><br/></td></tr>
<tr class="separator:abfbdc79b6d70b10c9cf4c2f44c56eaea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15be3e723e40a5544910edcc06bfabbe"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; objects::DatabaseConfig &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a15be3e723e40a5544910edcc06bfabbe">GetConfig</a> () const </td></tr>
<tr class="memdesc:a15be3e723e40a5544910edcc06bfabbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the database config.  <a href="#a15be3e723e40a5544910edcc06bfabbe">More...</a><br/></td></tr>
<tr class="separator:a15be3e723e40a5544910edcc06bfabbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d1ccfada957aa849faf5afd1c7c4c8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlibcomp_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a37d1ccfada957aa849faf5afd1c7c4c8">GetLastError</a> ()</td></tr>
<tr class="memdesc:a37d1ccfada957aa849faf5afd1c7c4c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the last error raised by a database operation.  <a href="#a37d1ccfada957aa849faf5afd1c7c4c8">More...</a><br/></td></tr>
<tr class="separator:a37d1ccfada957aa849faf5afd1c7c4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90ee5b76c504283e20377279a60c6cb8"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a90ee5b76c504283e20377279a60c6cb8">InsertSingleObject</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;obj)=0</td></tr>
<tr class="memdesc:a90ee5b76c504283e20377279a60c6cb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance into the database.  <a href="#a90ee5b76c504283e20377279a60c6cb8">More...</a><br/></td></tr>
<tr class="separator:a90ee5b76c504283e20377279a60c6cb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaff45117e3ab79bef9e81040d8c9009"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#abaff45117e3ab79bef9e81040d8c9009">IsOpen</a> () const =0</td></tr>
<tr class="memdesc:abaff45117e3ab79bef9e81040d8c9009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the connection to the database is open.  <a href="#abaff45117e3ab79bef9e81040d8c9009">More...</a><br/></td></tr>
<tr class="separator:abaff45117e3ab79bef9e81040d8c9009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8807376bdfa27d064f9b8c2a074ec7"><td class="memItemLeft" align="right" valign="top">virtual std::list<br class="typebreak"/>
&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ada8807376bdfa27d064f9b8c2a074ec7">LoadObjects</a> (size_t typeHash, <a class="el" href="classlibcomp_1_1DatabaseBind.html">DatabaseBind</a> *pValue)=0</td></tr>
<tr class="memdesc:ada8807376bdfa27d064f9b8c2a074ec7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load multiple <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances from a single bound database column and value to select upon.  <a href="#ada8807376bdfa27d064f9b8c2a074ec7">More...</a><br/></td></tr>
<tr class="separator:ada8807376bdfa27d064f9b8c2a074ec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a204a443853d17c850c0c6601ed26f624"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a204a443853d17c850c0c6601ed26f624">LoadSingleObject</a> (size_t typeHash, <a class="el" href="classlibcomp_1_1DatabaseBind.html">DatabaseBind</a> *pValue)</td></tr>
<tr class="memdesc:a204a443853d17c850c0c6601ed26f624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance from a single bound database column and value to select upon.  <a href="#a204a443853d17c850c0c6601ed26f624">More...</a><br/></td></tr>
<tr class="separator:a204a443853d17c850c0c6601ed26f624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd07200531c7e4b863b32012a20bff92"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#afd07200531c7e4b863b32012a20bff92">Open</a> ()=0</td></tr>
<tr class="memdesc:afd07200531c7e4b863b32012a20bff92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the connection to the database.  <a href="#afd07200531c7e4b863b32012a20bff92">More...</a><br/></td></tr>
<tr class="separator:afd07200531c7e4b863b32012a20bff92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43aee41a7db505e28a1fd60f4710e149"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classlibcomp_1_1DatabaseQuery.html">DatabaseQuery</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a43aee41a7db505e28a1fd60f4710e149">Prepare</a> (const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;query)=0</td></tr>
<tr class="memdesc:a43aee41a7db505e28a1fd60f4710e149"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare a database query for execution based upon query text.  <a href="#a43aee41a7db505e28a1fd60f4710e149">More...</a><br/></td></tr>
<tr class="separator:a43aee41a7db505e28a1fd60f4710e149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a703f9e5abe752cd96a1094b2b3731874"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a703f9e5abe752cd96a1094b2b3731874">ProcessChangeSet</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DatabaseChangeSet.html">DatabaseChangeSet</a> &gt; &amp;changes)</td></tr>
<tr class="memdesc:a703f9e5abe752cd96a1094b2b3731874"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process one or many database changes as a single transaction.  <a href="#a703f9e5abe752cd96a1094b2b3731874">More...</a><br/></td></tr>
<tr class="separator:a703f9e5abe752cd96a1094b2b3731874"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ebb41182084673bcc841c1316ca097c"><td class="memItemLeft" align="right" valign="top">std::list&lt; libobjgen::UUID &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a3ebb41182084673bcc841c1316ca097c">ProcessTransactionQueue</a> ()</td></tr>
<tr class="memdesc:a3ebb41182084673bcc841c1316ca097c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop and process all transactions stored in the transaction queue.  <a href="#a3ebb41182084673bcc841c1316ca097c">More...</a><br/></td></tr>
<tr class="separator:a3ebb41182084673bcc841c1316ca097c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4182f297d82b6a82a53b0484543291"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#afc4182f297d82b6a82a53b0484543291">QueueChangeSet</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DatabaseChangeSet.html">DatabaseChangeSet</a> &gt; &amp;changes)</td></tr>
<tr class="memdesc:afc4182f297d82b6a82a53b0484543291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue a set of changes to execute during the next call to ProcessTransactionQueue.  <a href="#afc4182f297d82b6a82a53b0484543291">More...</a><br/></td></tr>
<tr class="separator:afc4182f297d82b6a82a53b0484543291"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50f057e6cdd00d3ca36863b799ce312d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a50f057e6cdd00d3ca36863b799ce312d">QueueDelete</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; obj, const libobjgen::UUID &amp;uuid=NULLUUID)</td></tr>
<tr class="memdesc:a50f057e6cdd00d3ca36863b799ce312d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue an object to delete during the next call to ProcessTransactionQueue.  <a href="#a50f057e6cdd00d3ca36863b799ce312d">More...</a><br/></td></tr>
<tr class="separator:a50f057e6cdd00d3ca36863b799ce312d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57cf2dc9c9db068e6782de81699343a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ac57cf2dc9c9db068e6782de81699343a">QueueInsert</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; obj, const libobjgen::UUID &amp;uuid=NULLUUID)</td></tr>
<tr class="memdesc:ac57cf2dc9c9db068e6782de81699343a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue an object to insert during the next call to ProcessTransactionQueue.  <a href="#ac57cf2dc9c9db068e6782de81699343a">More...</a><br/></td></tr>
<tr class="separator:ac57cf2dc9c9db068e6782de81699343a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e9ef82c119acd3691ed4d261ee5b9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a97e9ef82c119acd3691ed4d261ee5b9e">QueueUpdate</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; obj, const libobjgen::UUID &amp;uuid=NULLUUID)</td></tr>
<tr class="memdesc:a97e9ef82c119acd3691ed4d261ee5b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue an object to update during the next call to ProcessTransactionQueue.  <a href="#a97e9ef82c119acd3691ed4d261ee5b9e">More...</a><br/></td></tr>
<tr class="separator:a97e9ef82c119acd3691ed4d261ee5b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5ea8359282d4bd844d865b9d46e463"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a1b5ea8359282d4bd844d865b9d46e463">Setup</a> (<a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> rebuild=false, const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a> &gt; &amp;server={}, <a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> *pDataStore=nullptr, const std::string &amp;migrationDirectory=std::string())=0</td></tr>
<tr class="memdesc:a1b5ea8359282d4bd844d865b9d46e463"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setup the database schema and perform all validation steps.  <a href="#a1b5ea8359282d4bd844d865b9d46e463">More...</a><br/></td></tr>
<tr class="separator:a1b5ea8359282d4bd844d865b9d46e463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7969fad6d6121c655a541379c12fc5"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a1c7969fad6d6121c655a541379c12fc5">TableExists</a> (const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;table)=0</td></tr>
<tr class="memdesc:a1c7969fad6d6121c655a541379c12fc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a table exists.  <a href="#a1c7969fad6d6121c655a541379c12fc5">More...</a><br/></td></tr>
<tr class="separator:a1c7969fad6d6121c655a541379c12fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2d92bc3c77b3aa0ec4ea135a6ecfbc"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a3c2d92bc3c77b3aa0ec4ea135a6ecfbc">TableHasRows</a> (const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;table)</td></tr>
<tr class="memdesc:a3c2d92bc3c77b3aa0ec4ea135a6ecfbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the supplied table name exists and has at least one row.  <a href="#a3c2d92bc3c77b3aa0ec4ea135a6ecfbc">More...</a><br/></td></tr>
<tr class="separator:a3c2d92bc3c77b3aa0ec4ea135a6ecfbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a923b694aae4d48649c3f311d2ec30713"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a923b694aae4d48649c3f311d2ec30713">UpdateSingleObject</a> (std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;obj)=0</td></tr>
<tr class="memdesc:a923b694aae4d48649c3f311d2ec30713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all fields on one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance in the database.  <a href="#a923b694aae4d48649c3f311d2ec30713">More...</a><br/></td></tr>
<tr class="separator:a923b694aae4d48649c3f311d2ec30713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87cb4aadaa77e01dfb86ecc8bf3b4239"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a87cb4aadaa77e01dfb86ecc8bf3b4239">Use</a> ()=0</td></tr>
<tr class="memdesc:a87cb4aadaa77e01dfb86ecc8bf3b4239"><td class="mdescLeft">&#160;</td><td class="mdescRight">Use the database schema, keyspace, namespace, etc.  <a href="#a87cb4aadaa77e01dfb86ecc8bf3b4239">More...</a><br/></td></tr>
<tr class="separator:a87cb4aadaa77e01dfb86ecc8bf3b4239"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c125410c57437895ee1f0939d592166"><td class="memItemLeft" align="right" valign="top"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a4c125410c57437895ee1f0939d592166">UsingDefaultDatabaseType</a> ()</td></tr>
<tr class="memdesc:a4c125410c57437895ee1f0939d592166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the config is for the default database type.  <a href="#a4c125410c57437895ee1f0939d592166">More...</a><br/></td></tr>
<tr class="separator:a4c125410c57437895ee1f0939d592166"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae29041a046ab617389db97089f3d6cc0"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::shared_ptr<br class="typebreak"/>
&lt; libobjgen::MetaObject &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#ae29041a046ab617389db97089f3d6cc0">GetMappedObjects</a> ()</td></tr>
<tr class="memdesc:ae29041a046ab617389db97089f3d6cc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of objects mapped to the current database type configured for the database.  <a href="#ae29041a046ab617389db97089f3d6cc0">More...</a><br/></td></tr>
<tr class="separator:ae29041a046ab617389db97089f3d6cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b4f738fc527eea4eae650c612d65b9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a29b4f738fc527eea4eae650c612d65b9">LoadSingleObjectFromRow</a> (size_t typeHash, <a class="el" href="classlibcomp_1_1DatabaseQuery.html">DatabaseQuery</a> &amp;query)</td></tr>
<tr class="memdesc:a29b4f738fc527eea4eae650c612d65b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to a new <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> of the specified type populated with the current row being read from a database query.  <a href="#a29b4f738fc527eea4eae650c612d65b9">More...</a><br/></td></tr>
<tr class="separator:a29b4f738fc527eea4eae650c612d65b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0371bfd5be27e27595c446656bd6fb"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#aea0371bfd5be27e27595c446656bd6fb">ProcessOperationalChangeSet</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DBOperationalChangeSet.html">DBOperationalChangeSet</a> &gt; &amp;changes)=0</td></tr>
<tr class="memdesc:aea0371bfd5be27e27595c446656bd6fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process an operational change set as a single transaction.  <a href="#aea0371bfd5be27e27595c446656bd6fb">More...</a><br/></td></tr>
<tr class="separator:aea0371bfd5be27e27595c446656bd6fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7692ab1f24f2118c3a94a3ddd29c71"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a1c7692ab1f24f2118c3a94a3ddd29c71">ProcessStandardChangeSet</a> (const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DBStandardChangeSet.html">DBStandardChangeSet</a> &gt; &amp;changes)=0</td></tr>
<tr class="memdesc:a1c7692ab1f24f2118c3a94a3ddd29c71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process one or many standard database changes as a single transaction.  <a href="#a1c7692ab1f24f2118c3a94a3ddd29c71">More...</a><br/></td></tr>
<tr class="separator:a1c7692ab1f24f2118c3a94a3ddd29c71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a3723884cf308ce285bcece4496d86a2c"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; objects::DatabaseConfig &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a3723884cf308ce285bcece4496d86a2c">mConfig</a></td></tr>
<tr class="memdesc:a3723884cf308ce285bcece4496d86a2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the config file used to configure the database connection.  <a href="#a3723884cf308ce285bcece4496d86a2c">More...</a><br/></td></tr>
<tr class="separator:a3723884cf308ce285bcece4496d86a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f8db340d7205d6727ad8c8f92706830"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlibcomp_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a1f8db340d7205d6727ad8c8f92706830">mError</a></td></tr>
<tr class="memdesc:a1f8db340d7205d6727ad8c8f92706830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Last error raised by a database related action.  <a href="#a1f8db340d7205d6727ad8c8f92706830">More...</a><br/></td></tr>
<tr class="separator:a1f8db340d7205d6727ad8c8f92706830"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a09fc7c168323901ffc6f21fb9b8374ee"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a09fc7c168323901ffc6f21fb9b8374ee">mTransactionLock</a></td></tr>
<tr class="memdesc:a09fc7c168323901ffc6f21fb9b8374ee"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classlibcomp_1_1Mutex.html" title="Mutex wrapper that checks if the mutex has already been locked. ">Mutex</a> to lock accessing the transaction queue.  <a href="#a09fc7c168323901ffc6f21fb9b8374ee">More...</a><br/></td></tr>
<tr class="separator:a09fc7c168323901ffc6f21fb9b8374ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c4562f0f43a011b93a132117dd5291"><td class="memItemLeft" align="right" valign="top">std::unordered_map<br class="typebreak"/>
&lt; std::string, std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="classlibcomp_1_1DBStandardChangeSet.html">DBStandardChangeSet</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlibcomp_1_1Database.html#a67c4562f0f43a011b93a132117dd5291">mTransactionQueue</a></td></tr>
<tr class="memdesc:a67c4562f0f43a011b93a132117dd5291"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of transaction pointers by UUID.  <a href="#a67c4562f0f43a011b93a132117dd5291">More...</a><br/></td></tr>
<tr class="separator:a67c4562f0f43a011b93a132117dd5291"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base class that represents a database to use for loading and modifying <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances as well as utility tables by translating actions to database specific query syntax. </p>
<p>The typeHash is used as a parameter to access object metadata to perform various tasks such as checking column data types and knowing what table name to use in a select statement. </p>

<p>Definition at line <a class="el" href="Database_8h_source.html#l00054">54</a> of file <a class="el" href="Database_8h_source.html">Database.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac54a972830f30edf74be00dda5c4d006"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Database::Database </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; objects::DatabaseConfig &gt; &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classlibcomp_1_1Database.html" title="Abstract base class that represents a database to use for loading and modifying PersistentObject inst...">Database</a> connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Pointer to a database configuration </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00039">39</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00314">mConfig</a>.</p>

</div>
</div>
<a class="anchor" id="a84d399a2ad58d69daab9b05330e1316d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Database::~Database </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close and clean up the database connection. </p>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00044">44</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae2ddcf6da45d7e3e1f3c1ea1c07701a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::ApplyMigration </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> *&#160;</td>
          <td class="paramname"><em>pDataStore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>migration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Apply a database migration script. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">server</td><td>Server to pass to the script. </td></tr>
    <tr><td class="paramname">pDataStore</td><td>Data store to read the script from. </td></tr>
    <tr><td class="paramname">migration</td><td>Name of the migration. </td></tr>
    <tr><td class="paramname">path</td><td>Path to the script in the data store. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the migration was applied; false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00298">298</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="CString_8cpp_source.html#l00585">libcomp::String::Arg()</a>, and <a class="el" href="DataStore_8cpp_source.html#l00347">libcomp::DataStore::ReadFile()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00124">libcomp::DatabaseSQLite3::Setup()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00145">libcomp::DatabaseMariaDB::Setup()</a>.</p>

</div>
</div>
<a class="anchor" id="a760e06342224a40b248d9b53363a45cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the connection to the database. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a6cb6e3bfdb4e10b8ee926c6da0cfc4ad">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a447300cd15983d0457bac0ae55a35546">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a7ba9941107ce107c20b953511217481c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::DeleteObjects </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>objs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete multiple <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances from the database at once. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">objs</td><td>List of ointers to the objects to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a4c8fdfd6980162e40a209b8600ce7b27">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a1c357033746812028772e21b13c3a73f">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00101">DeleteSingleObject()</a>.</p>

</div>
</div>
<a class="anchor" id="a767850599cf498210c0cb65a70550c8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::DeleteSingleObject </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance from the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to delete </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00101">101</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="classlibcomp_1_1Database.html#a7ba9941107ce107c20b953511217481c">DeleteObjects()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l01048">libcomp::DatabaseSQLite3::ProcessOperationalChangeSet()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l01142">libcomp::DatabaseMariaDB::ProcessOperationalChangeSet()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="ad06582f7596b1d08996032087ea48e0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::Execute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare and execute a database query for execution based upon query text. </p>
<p>Queries that return results should not use this function since a query is not returned to retrieve the results from. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Query text to prepare and execute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on error </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00048">48</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="DatabaseQuery_8cpp_source.html#l00105">libcomp::DatabaseQuery::Execute()</a>, and <a class="el" href="classlibcomp_1_1Database.html#a43aee41a7db505e28a1fd60f4710e149">Prepare()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00594">libcomp::DatabaseSQLite3::DeleteObjects()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00619">libcomp::DatabaseMariaDB::DeleteObjects()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l01048">libcomp::DatabaseSQLite3::ProcessOperationalChangeSet()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00985">libcomp::DatabaseSQLite3::ProcessStandardChangeSet()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00124">libcomp::DatabaseSQLite3::Setup()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00145">libcomp::DatabaseMariaDB::Setup()</a>, <a class="el" href="MariaDB_8cpp_source.html#l00079">TEST()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00634">libcomp::DatabaseSQLite3::VerifyAndSetupSchema()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00659">libcomp::DatabaseMariaDB::VerifyAndSetupSchema()</a>.</p>

</div>
</div>
<a class="anchor" id="abfbdc79b6d70b10c9cf4c2f44c56eaea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::Exists </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the database is valid. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it exists, false if it does not </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a8fcbd653cb5ada40834d5ac8b1319a63">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a6bb20725dc0245014c5dfe18d5973ce9">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a15be3e723e40a5544910edcc06bfabbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; objects::DatabaseConfig &gt; Database::GetConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the database config. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the database config </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00058">58</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00314">mConfig</a>.</p>

</div>
</div>
<a class="anchor" id="a37d1ccfada957aa849faf5afd1c7c4c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1String.html">String</a> Database::GetLastError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the last error raised by a database operation. </p>
<dl class="section return"><dt>Returns</dt><dd>The last error that occurred </dd></dl>

<p>Reimplemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a10355689e2b457c21490cb5905b96c31">libcomp::DatabaseMariaDB</a>.</p>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00053">53</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00311">mError</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00390">libcomp::DatabaseSQLite3::InsertSingleObject()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00294">libcomp::DatabaseSQLite3::LoadObjects()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l01127">libcomp::DatabaseSQLite3::ProcessExplicitUpdate()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00124">libcomp::DatabaseSQLite3::Setup()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00493">libcomp::DatabaseSQLite3::UpdateSingleObject()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="ae29041a046ab617389db97089f3d6cc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; libobjgen::MetaObject &gt; &gt; Database::GetMappedObjects </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the list of objects mapped to the current database type configured for the database. </p>
<dl class="section return"><dt>Returns</dt><dd>List of pointers to object definitions with a source set to the current database type </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00282">282</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="PersistentObject_8cpp_source.html#l00278">libcomp::PersistentObject::GetRegistry()</a>, <a class="el" href="Database_8h_source.html#l00314">mConfig</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00244">UsingDefaultDatabaseType()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00634">libcomp::DatabaseSQLite3::VerifyAndSetupSchema()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00659">libcomp::DatabaseMariaDB::VerifyAndSetupSchema()</a>.</p>

</div>
</div>
<a class="anchor" id="a90ee5b76c504283e20377279a60c6cb8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::InsertSingleObject </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Insert one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance into the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to insert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a197b5f0bc9d0dbab80c3aa1b62bb2f48">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a0a8334b858d6227b7140fa7447c77b32">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="abaff45117e3ab79bef9e81040d8c9009"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::IsOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the connection to the database is open. </p>
<dl class="section return"><dt>Returns</dt><dd>true if it is open, false if it is not </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a5c142c227b0ba4f7bc7e7e258392e906">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#ab35db7c7e96637b94d3132237aa5aba9">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="ada8807376bdfa27d064f9b8c2a074ec7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::list&lt;std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a>&gt; &gt; libcomp::Database::LoadObjects </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>typeHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1DatabaseBind.html">DatabaseBind</a> *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load multiple <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instances from a single bound database column and value to select upon. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeHash</td><td>C++ type hash representing the object type to load </td></tr>
    <tr><td class="paramname">pValue</td><td><a class="el" href="classlibcomp_1_1Database.html" title="Abstract base class that represents a database to use for loading and modifying PersistentObject inst...">Database</a> specific agnostic binding </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>List of pointers to loaded objects from the query results </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#ad16be9b33c26f98a91e2c95ea4b1d01d">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#aae5d3fd7094ed34d45151423dfe8fb6a">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00093">LoadSingleObject()</a>.</p>

</div>
</div>
<a class="anchor" id="a204a443853d17c850c0c6601ed26f624"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; Database::LoadSingleObject </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>typeHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1DatabaseBind.html">DatabaseBind</a> *&#160;</td>
          <td class="paramname"><em>pValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance from a single bound database column and value to select upon. </p>
<p>This simply filters down the results of <a class="el" href="classlibcomp_1_1Database.html#ada8807376bdfa27d064f9b8c2a074ec7">LoadObjects</a> to the first record so it should be used only when the value being bound to is unique. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeHash</td><td>C++ type hash representing the object type to load </td></tr>
    <tr><td class="paramname">pValue</td><td><a class="el" href="classlibcomp_1_1Database.html" title="Abstract base class that represents a database to use for loading and modifying PersistentObject inst...">Database</a> agnostic column binding </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the first loaded object from the query results </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00093">93</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="classlibcomp_1_1Database.html#ada8807376bdfa27d064f9b8c2a074ec7">LoadObjects()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l01048">libcomp::DatabaseSQLite3::ProcessOperationalChangeSet()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l01142">libcomp::DatabaseMariaDB::ProcessOperationalChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a29b4f738fc527eea4eae650c612d65b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; Database::LoadSingleObjectFromRow </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>typeHash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1DatabaseQuery.html">DatabaseQuery</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a pointer to a new <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> of the specified type populated with the current row being read from a database query. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">typeHash</td><td>C++ type hash of object to load </td></tr>
    <tr><td class="paramname">query</td><td>Current query to use results from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the new object </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00249">249</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="PersistentObject_8cpp_source.html#l00189">libcomp::PersistentObject::GetObjectByUUID()</a>, <a class="el" href="DatabaseQuery_8cpp_source.html#l00359">libcomp::DatabaseQuery::GetValue()</a>, <a class="el" href="PersistentObject_8h_source.html#l00268">libcomp::PersistentObject::New()</a>, and <a class="el" href="PersistentObject_8cpp_source.html#l00114">libcomp::PersistentObject::Register()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00294">libcomp::DatabaseSQLite3::LoadObjects()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00319">libcomp::DatabaseMariaDB::LoadObjects()</a>.</p>

</div>
</div>
<a class="anchor" id="afd07200531c7e4b863b32012a20bff92"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::Open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the connection to the database. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a74cdeae80264fea64b368ab682214d2d">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a1db4d065956dc1f95b81d7ea29f585ec">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a43aee41a7db505e28a1fd60f4710e149"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classlibcomp_1_1DatabaseQuery.html">DatabaseQuery</a> libcomp::Database::Prepare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare a database query for execution based upon query text. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Query text to prepare </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Prepared query </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a738bac3b614eef7fab179427ff7c91b0">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#afb29f1d80c1b48e27a49572190408f52">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00048">Execute()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00063">TableHasRows()</a>.</p>

</div>
</div>
<a class="anchor" id="a703f9e5abe752cd96a1094b2b3731874"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::ProcessChangeSet </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DatabaseChangeSet.html">DatabaseChangeSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>changes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process one or many database changes as a single transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">changes</td><td>Grouping of changes to apply to the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00224">224</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="classlibcomp_1_1Database.html#aea0371bfd5be27e27595c446656bd6fb">ProcessOperationalChangeSet()</a>, and <a class="el" href="classlibcomp_1_1Database.html#a1c7692ab1f24f2118c3a94a3ddd29c71">ProcessStandardChangeSet()</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00183">ProcessTransactionQueue()</a>, and <a class="el" href="MariaDB_8cpp_source.html#l00313">TEST()</a>.</p>

</div>
</div>
<a class="anchor" id="aea0371bfd5be27e27595c446656bd6fb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::ProcessOperationalChangeSet </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DBOperationalChangeSet.html">DBOperationalChangeSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>changes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process an operational change set as a single transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">changes</td><td>Grouping of changes to apply to the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a5e489ab787f2ac5e1125d4bfeb27f552">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a9756e04eb6adb4f2c687d3c242609671">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00224">ProcessChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a1c7692ab1f24f2118c3a94a3ddd29c71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::ProcessStandardChangeSet </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DBStandardChangeSet.html">DBStandardChangeSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>changes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process one or many standard database changes as a single transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">changes</td><td>Grouping of changes to apply to the database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a494196582df88b3df5e5638d3c78fceb">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a3452788f352196523fc46f7c7963ae99">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00224">ProcessChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ebb41182084673bcc841c1316ca097c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt; libobjgen::UUID &gt; Database::ProcessTransactionQueue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop and process all transactions stored in the transaction queue. </p>
<dl class="section return"><dt>Returns</dt><dd>List of all transaction group UUIDs that failed to process </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00183">183</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00322">mTransactionLock</a>, <a class="el" href="Database_8h_source.html#l00319">mTransactionQueue</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00224">ProcessChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="afc4182f297d82b6a82a53b0484543291"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::QueueChangeSet </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1DatabaseChangeSet.html">DatabaseChangeSet</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>changes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue a set of changes to execute during the next call to ProcessTransactionQueue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">changes</td><td><a class="el" href="classlibcomp_1_1DatabaseChangeSet.html" title="Database change set grouped by a transaction UUID to be processed as one operation. ">DatabaseChangeSet</a> to queue for processing </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00132">132</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00322">mTransactionLock</a>, and <a class="el" href="Database_8h_source.html#l00319">mTransactionQueue</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00124">QueueDelete()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00108">QueueInsert()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00116">QueueUpdate()</a>.</p>

</div>
</div>
<a class="anchor" id="a50f057e6cdd00d3ca36863b799ce312d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::QueueDelete </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const libobjgen::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em> = <code>NULLUUID</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue an object to delete during the next call to ProcessTransactionQueue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to delete </td></tr>
    <tr><td class="paramname">uuid</td><td>UUID used to group changes together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00124">124</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="DatabaseChangeSet_8cpp_source.html#l00050">libcomp::DatabaseChangeSet::Create()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00132">QueueChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="ac57cf2dc9c9db068e6782de81699343a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::QueueInsert </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const libobjgen::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em> = <code>NULLUUID</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue an object to insert during the next call to ProcessTransactionQueue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to insert </td></tr>
    <tr><td class="paramname">uuid</td><td>UUID used to group changes together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00108">108</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="DatabaseChangeSet_8cpp_source.html#l00050">libcomp::DatabaseChangeSet::Create()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00132">QueueChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a97e9ef82c119acd3691ed4d261ee5b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::QueueUpdate </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const libobjgen::UUID &amp;&#160;</td>
          <td class="paramname"><em>uuid</em> = <code>NULLUUID</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue an object to update during the next call to ProcessTransactionQueue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to update </td></tr>
    <tr><td class="paramname">uuid</td><td>UUID used to group changes together </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00116">116</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="DatabaseChangeSet_8cpp_source.html#l00050">libcomp::DatabaseChangeSet::Create()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00132">QueueChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a1b5ea8359282d4bd844d865b9d46e463"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::Setup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td>
          <td class="paramname"><em>rebuild</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1BaseServer.html">BaseServer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>server</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlibcomp_1_1DataStore.html">DataStore</a> *&#160;</td>
          <td class="paramname"><em>pDataStore</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>migrationDirectory</em> = <code>std::string()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setup the database schema and perform all validation steps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rebuild</td><td>Optional parameter to rebuild all tables used by this database during the verification step </td></tr>
    <tr><td class="paramname">server</td><td>Server to pass to migration scripts (or null). </td></tr>
    <tr><td class="paramname">pDataStore</td><td>Pointer to the data store for migrations (or null). </td></tr>
    <tr><td class="paramname">migrationDirectory</td><td>Directory to look for migrations in. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if it could be set up, false if it could not </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a8d322da49ab7325fb553b3772e70dba8">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#ae85a63597720bb2d034b1ba98a552e87">libcomp::DatabaseSQLite3</a>.</p>

</div>
</div>
<a class="anchor" id="a1c7969fad6d6121c655a541379c12fc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::TableExists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">libcomp::String</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a table exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>Name of the table to check for. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the table exists, false otherwise. </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a59695f10d0d1a23d1e445256d56dc101">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#aa00577de4017e0a0bafd6a56389e8f31">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a3c2d92bc3c77b3aa0ec4ea135a6ecfbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::TableHasRows </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classlibcomp_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the supplied table name exists and has at least one row. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>Name of the table to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if a row exists, false if it does not </dd></dl>

<p>Reimplemented in <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a888db19baef3e677f110be25e79097e8">libcomp::DatabaseSQLite3</a>.</p>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00063">63</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="DatabaseQuery_8cpp_source.html#l00105">libcomp::DatabaseQuery::Execute()</a>, <a class="el" href="DatabaseQuery_8cpp_source.html#l00359">libcomp::DatabaseQuery::GetValue()</a>, <a class="el" href="DatabaseQuery_8cpp_source.html#l00321">libcomp::DatabaseQuery::IsValid()</a>, <a class="el" href="DatabaseQuery_8cpp_source.html#l00117">libcomp::DatabaseQuery::Next()</a>, and <a class="el" href="classlibcomp_1_1Database.html#a43aee41a7db505e28a1fd60f4710e149">Prepare()</a>.</p>

<p>Referenced by <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00289">libcomp::DatabaseSQLite3::TableHasRows()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a923b694aae4d48649c3f311d2ec30713"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::UpdateSingleObject </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Update all fields on one <a class="el" href="classlibcomp_1_1PersistentObject.html">PersistentObject</a> instance in the database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>Pointer to the object to update </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#a4bd3821bd0e03a2fbe6f6ab3a1b9d4d2">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#a5d09ea3c87472932b0cb836b48f90a79">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a87cb4aadaa77e01dfb86ecc8bf3b4239"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> libcomp::Database::Use </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Use the database schema, keyspace, namespace, etc. </p>
<dl class="section return"><dt>Returns</dt><dd>true on success, false on failure </dd></dl>

<p>Implemented in <a class="el" href="classlibcomp_1_1DatabaseMariaDB.html#add6ecfd95b4d3c17470d935e62e88dd6">libcomp::DatabaseMariaDB</a>, and <a class="el" href="classlibcomp_1_1DatabaseSQLite3.html#aa00f95bea19d5444f89248224a7edcb5">libcomp::DatabaseSQLite3</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00360">libcomp::ScriptEngine::Using()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c125410c57437895ee1f0939d592166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="DatabaseQueryMariaDB_8cpp.html#abb452686968e48b67397da5f97445f5b">bool</a> Database::UsingDefaultDatabaseType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the config is for the default database type. </p>
<p>Non-default connections are only responsible for verifying the schema of their own tables where-as default database connections may also have additional tables to maintain. </p>
<dl class="section return"><dt>Returns</dt><dd>true if the default database type is configured, false if it is not </dd></dl>

<p>Definition at line <a class="el" href="src_2Database_8cpp_source.html#l00244">244</a> of file <a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a>.</p>

<p>References <a class="el" href="Database_8h_source.html#l00314">mConfig</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00282">GetMappedObjects()</a>, and <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00124">libcomp::DatabaseSQLite3::Setup()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3723884cf308ce285bcece4496d86a2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;objects::DatabaseConfig&gt; libcomp::Database::mConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the config file used to configure the database connection. </p>

<p>Definition at line <a class="el" href="Database_8h_source.html#l00314">314</a> of file <a class="el" href="Database_8h_source.html">Database.h</a>.</p>

<p>Referenced by <a class="el" href="DatabaseMariaDB_8cpp_source.html#l01394">libcomp::DatabaseMariaDB::ConnectToDatabase()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00039">Database()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00121">libcomp::DatabaseMariaDB::Exists()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00058">GetConfig()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l01460">libcomp::DatabaseMariaDB::GetConnection()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l01251">libcomp::DatabaseSQLite3::GetFilepath()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00282">GetMappedObjects()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00101">libcomp::DatabaseSQLite3::Prepare()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00124">libcomp::DatabaseSQLite3::Setup()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00145">libcomp::DatabaseMariaDB::Setup()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l01549">libcomp::DatabaseMariaDB::TableExists()</a>, <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00311">libcomp::DatabaseMariaDB::Use()</a>, <a class="el" href="src_2Database_8cpp_source.html#l00244">UsingDefaultDatabaseType()</a>, <a class="el" href="DatabaseSQLite3_8cpp_source.html#l00634">libcomp::DatabaseSQLite3::VerifyAndSetupSchema()</a>, and <a class="el" href="DatabaseMariaDB_8cpp_source.html#l00659">libcomp::DatabaseMariaDB::VerifyAndSetupSchema()</a>.</p>

</div>
</div>
<a class="anchor" id="a1f8db340d7205d6727ad8c8f92706830"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlibcomp_1_1String.html">String</a> libcomp::Database::mError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Last error raised by a database related action. </p>

<p>Definition at line <a class="el" href="Database_8h_source.html#l00311">311</a> of file <a class="el" href="Database_8h_source.html">Database.h</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00053">GetLastError()</a>.</p>

</div>
</div>
<a class="anchor" id="a09fc7c168323901ffc6f21fb9b8374ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex libcomp::Database::mTransactionLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classlibcomp_1_1Mutex.html" title="Mutex wrapper that checks if the mutex has already been locked. ">Mutex</a> to lock accessing the transaction queue. </p>

<p>Definition at line <a class="el" href="Database_8h_source.html#l00322">322</a> of file <a class="el" href="Database_8h_source.html">Database.h</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00183">ProcessTransactionQueue()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00132">QueueChangeSet()</a>.</p>

</div>
</div>
<a class="anchor" id="a67c4562f0f43a011b93a132117dd5291"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;std::string, std::shared_ptr&lt;<a class="el" href="classlibcomp_1_1DBStandardChangeSet.html">DBStandardChangeSet</a>&gt; &gt; libcomp::Database::mTransactionQueue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of transaction pointers by UUID. </p>

<p>Definition at line <a class="el" href="Database_8h_source.html#l00319">319</a> of file <a class="el" href="Database_8h_source.html">Database.h</a>.</p>

<p>Referenced by <a class="el" href="src_2Database_8cpp_source.html#l00183">ProcessTransactionQueue()</a>, and <a class="el" href="src_2Database_8cpp_source.html#l00132">QueueChangeSet()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Database_8h_source.html">Database.h</a></li>
<li><a class="el" href="src_2Database_8cpp_source.html">src/Database.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
